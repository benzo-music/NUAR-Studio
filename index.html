<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NUAR Studio | –ö–∏–±–µ—Ä–ø–∞–Ω–∫-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –¥–ª—è —Å—Ç—Ä–∏–º–µ—Ä–æ–≤</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;800;900&family=JetBrains+Mono:wght@300;400;500;600&display=swap" rel="stylesheet">
    <!-- –ò–ö–û–ù–ö–ê –í–ö–õ–ê–î–ö–ò -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><defs><linearGradient id=%22brainGrad%22 x1=%220%25%22 y1=%220%25%22 x2=%22100%25%22 y2=%22100%25%22><stop offset=%220%25%22 style=%22stop-color:%2300f3ff;stop-opacity:1%22/><stop offset=%22100%25%22 style=%22stop-color:%23ff00ff;stop-opacity:1%22/></linearGradient></defs><path d=%22M50,20 Q70,25 75,40 Q80,55 70,70 Q60,85 50,80 Q40,85 30,70 Q20,55 25,40 Q30,25 50,20Z%22 fill=%22url(%23brainGrad)%22 stroke=%22%2300f3ff%22 stroke-width=%222%22/><circle cx=%2250%22 cy=%2240%22 r=%225%22 fill=%22white%22/><path d=%22M40,55 Q50,60 60,55%22 stroke=%22%23ff00ff%22 stroke-width=%222%22 fill=%22none%22/></svg>">
    <style>
        :root {
            --neon-blue: #00f3ff;
            --neon-pink: #ff00ff;
            --neon-green: #00ff9d;
            --neon-orange: #ff5500;
            --dark-bg: #0a0a14;
            --panel-bg: rgba(20, 25, 40, 0.97);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            background: var(--dark-bg); 
            color: white; 
            font-family: 'JetBrains Mono', monospace;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* –ö–ò–ë–ï–† –°–ï–¢–ö–ê –ù–ê –§–û–ù–ï */
        .cyber-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                linear-gradient(rgba(0, 243, 255, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 243, 255, 0.03) 1px, transparent 1px);
            background-size: 60px 60px;
            opacity: 0.4;
            z-index: -1;
            animation: gridMove 40s linear infinite;
        }

        @keyframes gridMove {
            0% { background-position: 0 0; }
            100% { background-position: 120px 120px; }
        }

        /* –ù–ê–í–ò–ì–ê–¶–ò–Ø –° –≠–ö–û–°–ò–°–¢–ï–ú–û–ô NUAR */
        .navbar {
            background: rgba(10, 15, 30, 0.98);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(0, 243, 255, 0.3);
            backdrop-filter: blur(20px);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo {
            font-family: 'Orbitron', sans-serif;
            font-size: 2rem;
            background: linear-gradient(135deg, #00f3ff, #ff00ff);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 800;
        }

        .logo-icon {
            color: #00f3ff;
            animation: spinSlow 10s linear infinite;
            font-size: 2.5rem;
        }

        @keyframes spinSlow {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .ecosystem-links {
            display: flex;
            gap: 1rem;
        }

        .ecosystem-btn {
            background: rgba(0, 243, 255, 0.1);
            color: #00f3ff;
            border: 1px solid rgba(0, 243, 255, 0.3);
            padding: 0.5rem 1.2rem;
            border-radius: 8px;
            text-decoration: none;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9rem;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .ecosystem-btn:hover {
            background: rgba(0, 243, 255, 0.2);
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(0, 243, 255, 0.2);
        }

        /* –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ô–ù–ï–† */
        .main-container {
            display: grid;
            grid-template-columns: 350px 1fr 300px;
            gap: 2rem;
            padding: 2rem;
            max-width: 1800px;
            margin: 0 auto;
            min-height: calc(100vh - 80px);
        }

        /* –õ–ï–í–ê–Ø –ü–ê–ù–ï–õ–¨ - –ù–ê–°–¢–†–û–ô–ö–ò */
        .settings-panel {
            background: var(--panel-bg);
            border-radius: 20px;
            padding: 1.5rem;
            border: 1px solid rgba(0, 243, 255, 0.2);
            backdrop-filter: blur(10px);
            height: fit-content;
            position: sticky;
            top: 100px;
        }

        .panel-title {
            color: #00f3ff;
            font-family: 'Orbitron', sans-serif;
            font-size: 1.3rem;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 10px;
            border-bottom: 2px solid rgba(0, 243, 255, 0.2);
            padding-bottom: 10px;
        }

        /* –ö–ê–¢–ï–ì–û–†–ò–ò –≠–§–§–ï–ö–¢–û–í */
        .category {
            margin-bottom: 2rem;
        }

        .category-title {
            color: #ff00ff;
            font-family: 'Orbitron', sans-serif;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1rem;
        }

        /* –≠–õ–ï–ú–ï–ù–¢–´ –£–ü–†–ê–í–õ–ï–ù–ò–Ø */
        .control-item {
            margin-bottom: 1.2rem;
        }

        label {
            display: block;
            color: #a0b8d0;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }

        input[type="text"], input[type="range"], select {
            width: 100%;
            padding: 12px;
            background: rgba(0, 10, 20, 0.8);
            border: 1px solid rgba(0, 243, 255, 0.3);
            border-radius: 10px;
            color: white;
            font-family: 'JetBrains Mono', monospace;
            font-size: 1rem;
            transition: all 0.3s;
        }

        input[type="text"]:focus, select:focus {
            outline: none;
            border-color: #00f3ff;
            box-shadow: 0 0 15px rgba(0, 243, 255, 0.3);
        }

        /* –ß–ï–ö–ë–û–ö–°–´ */
        .checkbox-container {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 0.5rem;
        }

        .checkbox-container input[type="checkbox"] {
            width: 18px;
            height: 18px;
            accent-color: #00f3ff;
        }

        /* –¶–í–ï–¢–ê */
        .color-grid {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 8px;
            margin-top: 0.5rem;
        }

        .color-option {
            width: 35px;
            height: 35px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            border: 2px solid transparent;
        }

        .color-option:hover {
            transform: scale(1.15);
        }

        .color-option.active {
            border-color: white;
            box-shadow: 0 0 15px currentColor;
        }

        /* –ì–õ–ê–í–ù–ê–Ø –û–ë–õ–ê–°–¢–¨ - –ü–†–ï–î–ü–†–û–°–ú–û–¢–† */
        .preview-section {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .preview-container {
            background: var(--panel-bg);
            border-radius: 20px;
            padding: 2.5rem;
            border: 1px solid rgba(255, 0, 255, 0.2);
            backdrop-filter: blur(10px);
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 600px;
            position: relative;
            overflow: hidden;
        }

        /* –ö–ê–ù–í–ê–° –î–õ–Ø –†–ï–ù–î–ï–†–ò–ù–ì–ê */
        #renderCanvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
        }

        /* –°–¢–ò–ö–ï–†–´ –ò –≠–§–§–ï–ö–¢–´ –ù–ê –ü–†–ï–î–ü–†–û–°–ú–û–¢–†–ï */
        .sticker {
            position: absolute;
            font-size: 2rem;
            opacity: 0.6;
            animation: float 3s ease-in-out infinite;
            z-index: 2;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
        }

        /* –ü–†–ê–í–ê–Ø –ü–ê–ù–ï–õ–¨ - –®–ê–ë–õ–û–ù–´ */
        .templates-panel {
            background: var(--panel-bg);
            border-radius: 20px;
            padding: 1.5rem;
            border: 1px solid rgba(0, 243, 255, 0.2);
            height: fit-content;
            position: sticky;
            top: 100px;
        }

        .template-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1rem;
            margin-top: 1rem;
        }

        .template-card {
            background: rgba(0, 10, 20, 0.6);
            border-radius: 15px;
            padding: 1.5rem;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .template-card:hover {
            border-color: #00f3ff;
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 243, 255, 0.2);
        }

        .template-card.active {
            border-color: #ff00ff;
            background: rgba(255, 0, 255, 0.05);
        }

        .template-icon {
            font-size: 2rem;
            margin-bottom: 10px;
            display: block;
        }

        /* –ñ–ò–í–û–ô –ü–†–ï–î–ü–†–û–°–ú–û–¢–† –¢–ï–ö–°–¢–ê */
        .live-text {
            font-family: 'Orbitron', sans-serif;
            font-size: 3.5rem;
            text-align: center;
            margin: 2rem 0;
            padding: 2rem;
            border-radius: 15px;
            background: rgba(0, 0, 0, 0.2);
            min-height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            transition: all 0.5s;
            z-index: 2;
            width: 100%;
        }

        .text-container {
            position: relative;
            z-index: 3;
        }

        .main-preview {
            font-size: 3.5rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .sub-preview {
            font-size: 1.8rem;
            opacity: 0.9;
            transition: all 0.3s;
        }

        .sub-preview.hidden {
            display: none;
        }

        /* –ö–ù–û–ü–ö–ò –î–ï–ô–°–¢–í–ò–ô */
        .action-buttons {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin-top: 2rem;
            width: 100%;
            z-index: 2;
            position: relative;
        }

        .action-btn {
            padding: 15px;
            border: none;
            border-radius: 12px;
            font-family: 'Orbitron', sans-serif;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.3s;
            font-size: 1rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, #00f3ff, #9d00ff);
            color: white;
        }

        .btn-secondary {
            background: rgba(0, 243, 255, 0.1);
            color: #00f3ff;
            border: 2px solid #00f3ff;
        }

        .btn-success {
            background: linear-gradient(135deg, #00ff9d, #00b36b);
            color: white;
        }

        .btn-warning {
            background: linear-gradient(135deg, #ff5500, #ff9900);
            color: white;
        }

        .action-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0, 243, 255, 0.4);
        }

        /* –°–¢–ê–¢–£–° –ë–ê–† */
        .status-bar {
            background: rgba(0, 10, 20, 0.8);
            padding: 1rem;
            border-radius: 10px;
            margin-top: 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.9rem;
            color: #a0b8d0;
            width: 100%;
            z-index: 2;
            position: relative;
        }

        .status-indicator {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .status-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #00ff9d;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø */
        .nuar-notification {
            position: fixed;
            top: 100px;
            right: 20px;
            color: white;
            padding: 15px 25px;
            border-radius: 12px;
            font-family: 'Orbitron', sans-serif;
            font-weight: 600;
            z-index: 10000;
            animation: slideInRight 0.3s ease-out;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            gap: 12px;
            max-width: 400px;
        }

        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes slideOutRight {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(100%); opacity: 0; }
        }

        /* –ê–î–ê–ü–¢–ò–í–ù–û–°–¢–¨ */
        @media (max-width: 1400px) {
            .main-container { grid-template-columns: 300px 1fr; }
            .templates-panel { display: none; }
        }

        @media (max-width: 1200px) {
            .action-buttons { grid-template-columns: repeat(2, 1fr); }
        }

        @media (max-width: 992px) {
            .main-container { grid-template-columns: 1fr; padding: 1rem; }
            .settings-panel, .templates-panel { position: static; }
            .live-text { font-size: 2.5rem; }
            .main-preview { font-size: 2.5rem; }
            .action-buttons { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <!-- –§–û–ù -->
    <div class="cyber-bg"></div>

    <!-- –ù–ê–í–ò–ì–ê–¶–ò–Ø -->
    <nav class="navbar">
        <div class="logo-container">
            <div class="logo">
                <i class="fas fa-brain logo-icon"></i> NUAR STUDIO
            </div>
            <div style="color: #a0b8d0; font-size: 0.9rem;">
                –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –¥–ª—è —Å—Ç—Ä–∏–º–µ—Ä–æ–≤
            </div>
        </div>
        
        <div class="ecosystem-links">
            <!-- –ò–°–ü–†–ê–í–õ–ï–ù–ù–ê–Ø –°–°–´–õ–ö–ê –ù–ê –ü–ï–†–ï–í–û–î–ß–ò–ö -->
            <a href="https://benzo-music.github.io/NUAR/" target="_blank" class="ecosystem-btn">
                <i class="fas fa-language"></i> –ü–µ—Ä–µ–≤–æ–¥—á–∏–∫
            </a>
        </div>
    </nav>

    <!-- –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ô–ù–ï–† -->
    <div class="main-container">
        <!-- –õ–ï–í–ê–Ø –ü–ê–ù–ï–õ–¨: –ù–ê–°–¢–†–û–ô–ö–ò -->
        <div class="settings-panel">
            <div class="panel-title">
                <i class="fas fa-sliders-h"></i> –ù–ê–°–¢–†–û–ô–ö–ò –î–ò–ó–ê–ô–ù–ê
            </div>

            <!-- –¢–ï–ö–°–¢ -->
            <div class="category">
                <div class="category-title">
                    <i class="fas fa-font"></i> –¢–ï–ö–°–¢
                </div>
                <div class="control-item">
                    <label>–û—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç:</label>
                    <input type="text" id="mainText" value="CYBERSTREAMER LIVE" maxlength="30">
                </div>
                <div class="control-item">
                    <label>–í—Ç–æ—Ä–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç:</label>
                    <input type="text" id="subText" value="–ò–≥—Ä–∞–µ—Ç –≤ Cyberpunk 2077" maxlength="40">
                </div>
                <!-- –î–û–ë–ê–í–õ–ï–ù –ß–ï–ö–ë–û–ö–° –î–õ–Ø –°–ö–†–´–¢–ò–Ø –ü–û–î–¢–ï–ö–°–¢–ê -->
                <div class="control-item">
                    <div class="checkbox-container">
                        <input type="checkbox" id="hideSubText" checked>
                        <label for="hideSubText" style="margin-bottom: 0;">–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤—Ç–æ—Ä–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç</label>
                    </div>
                </div>
            </div>

            <!-- –¶–í–ï–¢–ê -->
            <div class="category">
                <div class="category-title">
                    <i class="fas fa-palette"></i> –¶–í–ï–¢–ê
                </div>
                <div class="control-item">
                    <label>–¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞:</label>
                    <div class="color-grid">
                        <!-- 12 –Ω–µ–æ–Ω–æ–≤—ã—Ö —Ü–≤–µ—Ç–æ–≤ -->
                        <div class="color-option active" style="background:#00f3ff;" data-color="#00f3ff"></div>
                        <div class="color-option" style="background:#ff00ff;" data-color="#ff00ff"></div>
                        <div class="color-option" style="background:#00ff9d;" data-color="#00ff9d"></div>
                        <div class="color-option" style="background:#ff5500;" data-color="#ff5500"></div>
                        <div class="color-option" style="background:#9d00ff;" data-color="#9d00ff"></div>
                        <div class="color-option" style="background:#ff009d;" data-color="#ff009d"></div>
                        <div class="color-option" style="background:#00ffea;" data-color="#00ffea"></div>
                        <div class="color-option" style="background:#ffcc00;" data-color="#ffcc00"></div>
                        <div class="color-option" style="background:#00ff7f;" data-color="#00ff7f"></div>
                        <div class="color-option" style="background:#ff3366;" data-color="#ff3366"></div>
                        <div class="color-option" style="background:#33ccff;" data-color="#33ccff"></div>
                        <div class="color-option" style="background:#cc33ff;" data-color="#cc33ff"></div>
                    </div>
                </div>
            </div>

            <!-- –≠–§–§–ï–ö–¢–´ -->
            <div class="category">
                <div class="category-title">
                    <i class="fas fa-magic"></i> –≠–§–§–ï–ö–¢–´
                </div>
                <div class="control-item">
                    <label>–¢–∏–ø —Å–≤–µ—á–µ–Ω–∏—è:</label>
                    <select id="glowType">
                        <option value="simple">–ü—Ä–æ—Å—Ç–æ–µ —Å–≤–µ—á–µ–Ω–∏–µ</option>
                        <option value="double">–î–≤–æ–π–Ω–æ–µ —Å–≤–µ—á–µ–Ω–∏–µ</option>
                        <option value="pulse" selected>–ü—É–ª—å—Å–∏—Ä—É—é—â–µ–µ</option>
                        <option value="neon-rainbow">–ù–µ–æ–Ω–æ–≤–∞—è —Ä–∞–¥—É–≥–∞</option>
                        <option value="glitch">–ì–ª–∏—Ç—á-—ç—Ñ—Ñ–µ–∫—Ç</option>
                    </select>
                </div>
                <div class="control-item">
                    <label>–°–∏–ª–∞ —Å–≤–µ—á–µ–Ω–∏—è: <span id="glowValue">25</span>px</label>
                    <input type="range" id="glowStrength" min="5" max="60" value="25">
                </div>
                <!-- –£–ü–†–û–©–ï–ù–ù–´–ï –§–û–ù–´ -->
                <div class="control-item">
                    <label>–§–æ–Ω:</label>
                    <select id="bgAnimation">
                        <option value="none">–ù–µ—Ç</option>
                        <option value="grid" selected>–°–µ—Ç–∫–∞</option>
                        <option value="circuits">–°—Ö–µ–º—ã</option>
                        <option value="dots">–¢–æ—á–∫–∏</option>
                        <option value="waves">–í–æ–ª–Ω—ã</option>
                    </select>
                </div>
            </div>

            <!-- –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û -->
            <div class="category">
                <div class="category-title">
                    <i class="fas fa-plus-circle"></i> –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û
                </div>
                <div class="control-item">
                    <label>–°—Ç–∏–∫–µ—Ä—ã:</label>
                    <select id="stickerSelect">
                        <option value="none">–ë–µ–∑ —Å—Ç–∏–∫–µ—Ä–æ–≤</option>
                        <option value="gaming" selected>–ò–≥—Ä–æ–≤—ã–µ</option>
                        <option value="music">–ú—É–∑—ã–∫–∞–ª—å–Ω—ã–µ</option>
                        <option value="tech">–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</option>
                        <option value="cyber">–ö–∏–±–µ—Ä–ø–∞–Ω–∫</option>
                    </select>
                </div>
                <div class="control-item">
                    <label>–î–æ–±–∞–≤–∏—Ç—å QR-–∫–æ–¥:</label>
                    <input type="text" id="qrUrl" placeholder="https://–≤–∞—à-—Å–∞–π—Ç.com">
                </div>
            </div>
        </div>

        <!-- –¶–ï–ù–¢–†–ê–õ–¨–ù–ê–Ø –û–ë–õ–ê–°–¢–¨: –ü–†–ï–î–ü–†–û–°–ú–û–¢–† -->
        <div class="preview-section">
            <div class="preview-container">
                <!-- –ö–ê–ù–í–ê–° –î–õ–Ø –†–ï–ù–î–ï–†–ò–ù–ì–ê –≠–§–§–ï–ö–¢–û–í -->
                <canvas id="renderCanvas"></canvas>
                
                <!-- –°–¢–ò–ö–ï–†–´ (–≠–ú–û–î–ó–ò) -->
                <div class="sticker" id="sticker1" style="top:20%; left:10%;">
                    üéÆ
                </div>
                <div class="sticker" id="sticker2" style="top:30%; right:15%;">
                    üéß
                </div>

                <!-- –ñ–ò–í–û–ô –ü–†–ï–î–ü–†–û–°–ú–û–¢–† -->
                <div class="live-text">
                    <div class="text-container">
                        <div class="main-preview" id="mainPreview">CYBERSTREAMER LIVE</div>
                        <div class="sub-preview" id="subPreview">–ò–≥—Ä–∞–µ—Ç –≤ Cyberpunk 2077</div>
                    </div>
                </div>

                <!-- –ö–ù–û–ü–ö–ò –î–ï–ô–°–¢–í–ò–ô -->
                <div class="action-buttons">
                    <button class="action-btn btn-primary" id="downloadSimpleBtn">
                        <i class="fas fa-download"></i> –°–ö–ê–ß–ê–¢–¨ PNG
                    </button>
                    <button class="action-btn btn-success" id="downloadFullBtn">
                        <i class="fas fa-image"></i> –° –≠–§–§–ï–ö–¢–ê–ú–ò
                    </button>
                    <!-- –ö–ù–û–ü–ö–ê –î–õ–Ø –ü–†–û–°–¢–û–ì–û GIF -->
                    <button class="action-btn btn-warning" id="downloadGifBtn">
                        <i class="fas fa-film"></i> –°–ö–ê–ß–ê–¢–¨ GIF
                    </button>
                    <button class="action-btn btn-secondary" id="copyCssBtn">
                        <i class="fas fa-code"></i> –ö–û–ü–ò–†–û–í–ê–¢–¨ CSS
                    </button>
                    <button class="action-btn btn-secondary" id="shareBtn">
                        <i class="fas fa-share-alt"></i> –ü–û–î–ï–õ–ò–¢–¨–°–Ø
                    </button>
                    <button class="action-btn btn-secondary" id="exportJsonBtn">
                        <i class="fas fa-file-export"></i> –≠–ö–°–ü–û–†–¢ –ù–ê–°–¢–†–û–ï–ö
                    </button>
                </div>

                <!-- –°—Ç–∞—Ç—É—Å –±–∞—Ä -->
                <div class="status-bar">
                    <div class="status-indicator">
                        <div class="status-dot"></div>
                        <span>–ì–æ—Ç–æ–≤ –∫ —ç–∫—Å–ø–æ—Ä—Ç—É</span>
                    </div>
                    <div>
                        <span id="fileSize">~450 KB</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- –ü–†–ê–í–ê–Ø –ü–ê–ù–ï–õ–¨: –®–ê–ë–õ–û–ù–´ -->
        <div class="templates-panel">
            <div class="panel-title">
                <i class="fas fa-layer-group"></i> –ì–û–¢–û–í–´–ï –®–ê–ë–õ–û–ù–´
            </div>
            
            <div class="template-grid">
                <div class="template-card active" data-template="gamer">
                    <i class="fas fa-gamepad template-icon" style="color:#00f3ff;"></i>
                    <h3>–ì–µ–π–º–µ—Ä—Å–∫–∏–π</h3>
                    <p style="color:#a0b8d0; font-size:0.9rem; margin-top:5px;">
                        –î–ª—è –∏–≥—Ä–æ–≤—ã—Ö —Å—Ç—Ä–∏–º–æ–≤
                    </p>
                </div>
                
                <div class="template-card" data-template="music">
                    <i class="fas fa-music template-icon" style="color:#ff00ff;"></i>
                    <h3>–ú—É–∑—ã–∫–∞–ª—å–Ω—ã–π</h3>
                    <p style="color:#a0b8d0; font-size:0.9rem; margin-top:5px;">
                        –î–ª—è –º—É–∑—ã–∫–∞–ª—å–Ω—ã—Ö —Å—Ç—Ä–∏–º–æ–≤
                    </p>
                </div>
                
                <div class="template-card" data-template="creative">
                    <i class="fas fa-paint-brush template-icon" style="color:#00ff9d;"></i>
                    <h3>–¢–≤–æ—Ä—á–µ—Å–∫–∏–π</h3>
                    <p style="color:#a0b8d0; font-size:0.9rem; margin-top:5px;">
                        –î–ª—è —Ö—É–¥–æ–∂–Ω–∏–∫–æ–≤ –∏ –¥–∏–∑–∞–π–Ω–µ—Ä–æ–≤
                    </p>
                </div>
                
                <div class="template-card" data-template="tech">
                    <i class="fas fa-microchip template-icon" style="color:#ff5500;"></i>
                    <h3>–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</h3>
                    <p style="color:#a0b8d0; font-size:0.9rem; margin-top:5px;">
                        –î–ª—è IT-—Å—Ç—Ä–∏–º–æ–≤
                    </p>
                </div>
                
                <div class="template-card" data-template="podcast">
                    <i class="fas fa-podcast template-icon" style="color:#9d00ff;"></i>
                    <h3>–ü–æ–¥–∫–∞—Å—Ç</h3>
                    <p style="color:#a0b8d0; font-size:0.9rem; margin-top:5px;">
                        –î–ª—è –ø–æ–¥–∫–∞—Å—Ç–æ–≤ –∏ –∏–Ω—Ç–µ—Ä–≤—å—é
                    </p>
                </div>
                
                <div class="template-card" data-template="education">
                    <i class="fas fa-graduation-cap template-icon" style="color:#00ffea;"></i>
                    <h3>–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ</h3>
                    <p style="color:#a0b8d0; font-size:0.9rem; margin-top:5px;">
                        –î–ª—è –æ–±—É—á–∞—é—â–∏—Ö —Å—Ç—Ä–∏–º–æ–≤
                    </p>
                </div>
            </div>
            
            <div style="margin-top: 2rem; padding-top: 1.5rem; border-top: 1px solid rgba(0,243,255,0.1);">
                <div class="category-title">
                    <i class="fas fa-bolt"></i> –ë–´–°–¢–†–´–ï –ù–ê–°–¢–†–û–ô–ö–ò
                </div>
                <button class="action-btn btn-secondary" id="randomBtn" style="width:100%; margin-top:1rem;">
                    <i class="fas fa-random"></i> –°–õ–£–ß–ê–ô–ù–´–ô –î–ò–ó–ê–ô–ù
                </button>
                <button class="action-btn btn-secondary" id="resetBtn" style="width:100%; margin-top:0.5rem;">
                    <i class="fas fa-redo"></i> –°–ë–†–û–°–ò–¢–¨
                </button>
            </div>
        </div>
    </div>

    <script>
        // ========== –ì–õ–û–ë–ê–õ–¨–ù–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï ==========
        const state = {
            mainText: 'CYBERSTREAMER LIVE',
            subText: '–ò–≥—Ä–∞–µ—Ç –≤ Cyberpunk 2077',
            color: '#00f3ff',
            glowType: 'pulse',
            glowStrength: 25,
            bgAnimation: 'grid',
            stickerType: 'gaming',
            qrUrl: '',
            template: 'gamer',
            particles: [],
            animationId: null,
            lastRenderTime: 0,
            showSubText: true
        };

        // ========== DOM –≠–õ–ï–ú–ï–ù–¢–´ ==========
        const elements = {
            canvas: document.getElementById('renderCanvas'),
            mainPreview: document.getElementById('mainPreview'),
            subPreview: document.getElementById('subPreview'),
            sticker1: document.getElementById('sticker1'),
            sticker2: document.getElementById('sticker2'),
            mainText: document.getElementById('mainText'),
            subText: document.getElementById('subText'),
            hideSubText: document.getElementById('hideSubText'),
            glowType: document.getElementById('glowType'),
            glowStrength: document.getElementById('glowStrength'),
            glowValue: document.getElementById('glowValue'),
            bgAnimation: document.getElementById('bgAnimation'),
            stickerSelect: document.getElementById('stickerSelect'),
            qrUrl: document.getElementById('qrUrl'),
            colorOptions: document.querySelectorAll('.color-option'),
            templateCards: document.querySelectorAll('.template-card'),
            downloadSimpleBtn: document.getElementById('downloadSimpleBtn'),
            downloadFullBtn: document.getElementById('downloadFullBtn'),
            downloadGifBtn: document.getElementById('downloadGifBtn'),
            copyCssBtn: document.getElementById('copyCssBtn'),
            shareBtn: document.getElementById('shareBtn'),
            randomBtn: document.getElementById('randomBtn'),
            resetBtn: document.getElementById('resetBtn'),
            exportJsonBtn: document.getElementById('exportJsonBtn'),
            fileSize: document.getElementById('fileSize')
        };

        // ========== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ==========
        function init() {
            setupCanvas();
            setupEventListeners();
            updatePreview();
            startAnimation();
            showNotification('NUAR Studio –∑–∞–≥—Ä—É–∂–µ–Ω!', 'success');
        }

        // ========== –ù–ê–°–¢–†–û–ô–ö–ê –ö–ê–ù–í–ê–°–ê ==========
        function setupCanvas() {
            const container = document.querySelector('.preview-container');
            if (container && elements.canvas) {
                elements.canvas.width = container.clientWidth;
                elements.canvas.height = container.clientHeight;
                renderBackground(); // –†–µ–Ω–¥–µ—Ä–∏–º —Ñ–æ–Ω —Å—Ä–∞–∑—É
            }
        }

        // ========== –ù–ê–°–¢–†–û–ô–ö–ê –°–û–ë–´–¢–ò–ô ==========
        function setupEventListeners() {
            // –¢–µ–∫—Å—Ç
            elements.mainText.addEventListener('input', (e) => {
                state.mainText = e.target.value || '–í–∞—à —Ç–µ–∫—Å—Ç';
                updatePreview();
            });
            
            elements.subText.addEventListener('input', (e) => {
                state.subText = e.target.value;
                updatePreview();
            });
            
            elements.hideSubText.addEventListener('change', (e) => {
                state.showSubText = e.target.checked;
                updatePreview();
            });

            // –¶–≤–µ—Ç–∞
            elements.colorOptions.forEach(option => {
                option.addEventListener('click', (e) => {
                    elements.colorOptions.forEach(o => o.classList.remove('active'));
                    e.target.classList.add('active');
                    state.color = e.target.dataset.color;
                    updatePreview();
                    renderBackground();
                });
            });

            // –≠—Ñ—Ñ–µ–∫—Ç—ã
            elements.glowType.addEventListener('change', (e) => {
                state.glowType = e.target.value;
                updatePreview();
            });
            
            elements.glowStrength.addEventListener('input', (e) => {
                state.glowStrength = parseInt(e.target.value);
                elements.glowValue.textContent = state.glowStrength;
                updatePreview();
            });
            
            elements.bgAnimation.addEventListener('change', (e) => {
                state.bgAnimation = e.target.value;
                renderBackground();
            });
            
            elements.stickerSelect.addEventListener('change', (e) => {
                state.stickerType = e.target.value;
                updateStickers();
            });
            
            elements.qrUrl.addEventListener('input', (e) => {
                state.qrUrl = e.target.value;
            });

            // –®–∞–±–ª–æ–Ω—ã
            elements.templateCards.forEach(card => {
                card.addEventListener('click', (e) => {
                    elements.templateCards.forEach(c => c.classList.remove('active'));
                    card.classList.add('active');
                    state.template = card.dataset.template;
                    applyTemplate(state.template);
                });
            });

            // –ö–Ω–æ–ø–∫–∏
            elements.downloadSimpleBtn.addEventListener('click', () => downloadImage(false));
            elements.downloadFullBtn.addEventListener('click', () => downloadImage(true));
            elements.downloadGifBtn.addEventListener('click', createSimpleGif);
            elements.copyCssBtn.addEventListener('click', copyCss);
            elements.shareBtn.addEventListener('click', shareDesign);
            elements.randomBtn.addEventListener('click', randomDesign);
            elements.resetBtn.addEventListener('click', resetDesign);
            elements.exportJsonBtn.addEventListener('click', exportSettings);

            // –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å
            window.addEventListener('resize', () => {
                setupCanvas();
                renderBackground();
            });
        }

        // ========== –û–ë–ù–û–í–õ–ï–ù–ò–ï –ü–†–ï–î–ü–†–û–°–ú–û–¢–†–ê ==========
        function updatePreview() {
            if (!elements.mainPreview || !elements.subPreview) return;
            
            elements.mainPreview.textContent = state.mainText;
            elements.subPreview.textContent = state.subText;
            
            if (state.showSubText && state.subText.trim()) {
                elements.subPreview.classList.remove('hidden');
            } else {
                elements.subPreview.classList.add('hidden');
            }
            
            applyTextStyles();
            updateStickers();
            updateFileSize();
        }

        function applyTextStyles() {
            if (!elements.mainPreview) return;
            
            const textShadow = getTextShadow();
            
            elements.mainPreview.style.color = state.color;
            elements.mainPreview.style.textShadow = textShadow;
            
            if (state.showSubText && state.subText.trim() && elements.subPreview) {
                const subGlow = Math.max(10, state.glowStrength * 0.6);
                elements.subPreview.style.color = state.color;
                elements.subPreview.style.textShadow = `0 0 ${subGlow}px ${state.color}`;
                elements.subPreview.style.opacity = '0.9';
            }
            
            if (elements.sticker1 && elements.sticker2) {
                elements.sticker1.style.color = state.color;
                elements.sticker2.style.color = getComplementaryColor(state.color);
            }
        }

        function getTextShadow() {
            const g = state.glowStrength;
            const c = state.color;
            
            switch(state.glowType) {
                case 'simple': return `0 0 ${g}px ${c}`;
                case 'double': return `0 0 ${g}px ${c}, 0 0 ${g*2}px ${c}`;
                case 'pulse': return `0 0 ${g}px ${c}`;
                case 'neon-rainbow': return `0 0 ${g}px ${c}, 0 0 ${g*2}px ${getComplementaryColor(c)}`;
                case 'glitch': return `2px 2px ${g}px ${c}, -2px -2px ${g}px ${getComplementaryColor(c)}`;
                default: return `0 0 ${g}px ${c}`;
            }
        }

        // ========== –†–ï–ù–î–ï–†–ò–ù–ì –§–û–ù–ê ==========
        function renderBackground() {
            if (!elements.canvas || !elements.canvas.getContext) return;
            
            const ctx = elements.canvas.getContext('2d');
            if (!ctx) return;
            
            const width = elements.canvas.width;
            const height = elements.canvas.height;
            
            // –û—á–∏—â–∞–µ–º –∫–∞–Ω–≤–∞—Å
            ctx.clearRect(0, 0, width, height);
            
            // –†–∏—Å—É–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ñ–æ–Ω
            switch(state.bgAnimation) {
                case 'grid':
                    drawGrid(ctx, width, height);
                    break;
                case 'circuits':
                    drawCircuits(ctx, width, height);
                    break;
                case 'dots':
                    drawDots(ctx, width, height);
                    break;
                case 'waves':
                    drawWaves(ctx, width, height);
                    break;
                default:
                    // –î–ª—è 'none' –ø—Ä–æ—Å—Ç–æ —á–µ—Ä–Ω—ã–π —Ñ–æ–Ω
                    ctx.fillStyle = '#0a0a14';
                    ctx.fillRect(0, 0, width, height);
            }
        }

        function drawGrid(ctx, width, height) {
            // –ß–µ—Ä–Ω—ã–π —Ñ–æ–Ω
            ctx.fillStyle = '#0a0a14';
            ctx.fillRect(0, 0, width, height);
            
            // –°–µ—Ç–∫–∞
            ctx.strokeStyle = 'rgba(0, 243, 255, 0.15)';
            ctx.lineWidth = 1;
            
            // –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ –ª–∏–Ω–∏–∏
            for (let x = 0; x < width; x += 50) {
                ctx.beginPath();
                ctx.moveTo(x, 0);
                ctx.lineTo(x, height);
                ctx.stroke();
            }
            
            // –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ –ª–∏–Ω–∏–∏
            for (let y = 0; y < height; y += 50) {
                ctx.beginPath();
                ctx.moveTo(0, y);
                ctx.lineTo(width, y);
                ctx.stroke();
            }
            
            // –î–∏–∞–≥–æ–Ω–∞–ª–∏
            ctx.strokeStyle = 'rgba(255, 0, 255, 0.1)';
            ctx.beginPath();
            ctx.moveTo(0, 0);
            ctx.lineTo(width, height);
            ctx.stroke();
            
            ctx.beginPath();
            ctx.moveTo(width, 0);
            ctx.lineTo(0, height);
            ctx.stroke();
        }

        function drawCircuits(ctx, width, height) {
            // –ß–µ—Ä–Ω—ã–π —Ñ–æ–Ω
            ctx.fillStyle = '#0a0a14';
            ctx.fillRect(0, 0, width, height);
            
            // –°—Ö–µ–º—ã
            ctx.strokeStyle = 'rgba(0, 255, 157, 0.2)';
            ctx.lineWidth = 2;
            
            // –ö—Ä—É–≥–∏
            for (let i = 0; i < 5; i++) {
                const x = width * (0.2 + Math.random() * 0.6);
                const y = height * (0.2 + Math.random() * 0.6);
                const radius = 40 + Math.random() * 80;
                
                ctx.beginPath();
                ctx.arc(x, y, radius, 0, Math.PI * 2);
                ctx.stroke();
            }
            
            // –õ–∏–Ω–∏–∏
            ctx.strokeStyle = 'rgba(255, 0, 255, 0.15)';
            ctx.lineWidth = 1;
            
            for (let i = 0; i < 3; i++) {
                const x1 = width * 0.2;
                const y1 = height * (0.3 + i * 0.2);
                const x2 = width * 0.8;
                const y2 = height * (0.3 + i * 0.2);
                
                ctx.beginPath();
                ctx.moveTo(x1, y1);
                ctx.lineTo(x2, y2);
                ctx.stroke();
            }
        }

        function drawDots(ctx, width, height) {
            // –ß–µ—Ä–Ω—ã–π —Ñ–æ–Ω
            ctx.fillStyle = '#0a0a14';
            ctx.fillRect(0, 0, width, height);
            
            // –¢–æ—á–∫–∏
            ctx.fillStyle = state.color;
            ctx.globalAlpha = 0.3;
            
            const spacing = 30;
            for (let x = spacing; x < width; x += spacing) {
                for (let y = spacing; y < height; y += spacing) {
                    const size = 2 + Math.random() * 3;
                    ctx.beginPath();
                    ctx.arc(x, y, size, 0, Math.PI * 2);
                    ctx.fill();
                }
            }
            ctx.globalAlpha = 1;
        }

        function drawWaves(ctx, width, height) {
            // –ß–µ—Ä–Ω—ã–π —Ñ–æ–Ω
            ctx.fillStyle = '#0a0a14';
            ctx.fillRect(0, 0, width, height);
            
            // –í–æ–ª–Ω—ã
            ctx.strokeStyle = state.color;
            ctx.lineWidth = 2;
            ctx.globalAlpha = 0.3;
            
            const time = Date.now() * 0.001;
            
            for (let i = 0; i < 3; i++) {
                const amplitude = 20 + i * 15;
                const frequency = 0.02 + i * 0.01;
                const offsetY = i * 40;
                
                ctx.beginPath();
                for (let x = 0; x < width; x++) {
                    const y = height / 2 + amplitude * Math.sin(x * frequency + time) + offsetY;
                    if (x === 0) ctx.moveTo(x, y);
                    else ctx.lineTo(x, y);
                }
                ctx.stroke();
            }
            ctx.globalAlpha = 1;
        }

        // ========== –°–¢–ò–ö–ï–†–´ ==========
        function updateStickers() {
            const emojis = getStickerEmojis();
            if (elements.sticker1 && elements.sticker2) {
                elements.sticker1.innerHTML = emojis[0];
                elements.sticker2.innerHTML = emojis[1];
                
                const showStickers = state.stickerType !== 'none';
                elements.sticker1.style.display = showStickers ? 'block' : 'none';
                elements.sticker2.style.display = showStickers ? 'block' : 'none';
                
                if (showStickers) {
                    elements.sticker1.style.color = state.color;
                    elements.sticker2.style.color = getComplementaryColor(state.color);
                }
            }
        }

        function getStickerEmojis() {
            switch(state.stickerType) {
                case 'gaming': return ['üéÆ', 'üèÜ'];
                case 'music': return ['üéß', 'üéµ'];
                case 'tech': return ['üíª', 'ü§ñ'];
                case 'cyber': return ['üß†', 'üëÅÔ∏è'];
                default: return ['‚≠ê', '‚ö°'];
            }
        }

        // ========== –®–ê–ë–õ–û–ù–´ ==========
        function applyTemplate(template) {
            const templates = {
                gamer: {
                    mainText: 'CYBERSTREAMER LIVE',
                    subText: '–ò–≥—Ä–∞–µ—Ç –≤ Cyberpunk 2077',
                    color: '#00f3ff',
                    glowType: 'pulse',
                    stickerType: 'gaming',
                    bgAnimation: 'grid'
                },
                music: {
                    mainText: 'SYNTHWAVE RADIO',
                    subText: '–ü—Ä—è–º–æ–π —ç—Ñ–∏—Ä ‚Ä¢ 24/7',
                    color: '#ff00ff',
                    glowType: 'neon-rainbow',
                    stickerType: 'music',
                    bgAnimation: 'dots'
                },
                creative: {
                    mainText: 'DIGITAL ART ZONE',
                    subText: '–†–∏—Å—É—é –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏',
                    color: '#00ff9d',
                    glowType: 'double',
                    stickerType: 'cyber',
                    bgAnimation: 'circuits'
                },
                tech: {
                    mainText: 'TECH TALK LIVE',
                    subText: '–û–±—Å—É–∂–¥–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π',
                    color: '#ff5500',
                    glowType: 'glitch',
                    stickerType: 'tech',
                    bgAnimation: 'grid'
                },
                podcast: {
                    mainText: 'CYBERPUNK PODCAST',
                    subText: '–ù–æ–≤—ã–π –≤—ã–ø—É—Å–∫ –∫–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é',
                    color: '#9d00ff',
                    glowType: 'simple',
                    stickerType: 'none',
                    bgAnimation: 'none'
                },
                education: {
                    mainText: 'CODE ACADEMY',
                    subText: '–£—á–∏–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é',
                    color: '#00ffea',
                    glowType: 'pulse',
                    stickerType: 'tech',
                    bgAnimation: 'waves'
                }
            };
            
            const t = templates[template];
            if (!t) return;
            
            Object.assign(state, t);
            
            if (elements.mainText) elements.mainText.value = state.mainText;
            if (elements.subText) elements.subText.value = state.subText;
            if (elements.glowType) elements.glowType.value = state.glowType;
            if (elements.glowStrength) {
                elements.glowStrength.value = state.glowStrength;
                if (elements.glowValue) elements.glowValue.textContent = state.glowStrength;
            }
            if (elements.bgAnimation) elements.bgAnimation.value = state.bgAnimation;
            if (elements.stickerSelect) elements.stickerSelect.value = state.stickerType;
            if (elements.hideSubText) {
                elements.hideSubText.checked = true;
                state.showSubText = true;
            }
            
            if (elements.colorOptions) {
                elements.colorOptions.forEach(opt => {
                    opt.classList.remove('active');
                    if (opt.dataset.color === state.color) {
                        opt.classList.add('active');
                    }
                });
            }
            
            renderBackground();
            updatePreview();
            
            showNotification(`–®–∞–±–ª–æ–Ω "${template}" –ø—Ä–∏–º–µ–Ω–µ–Ω!`, 'success');
        }

        // ========== –°–ö–ê–ß–ò–í–ê–ù–ò–ï PNG ==========
        function downloadImage(withEffects) {
            showNotification('–°–æ–∑–¥–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ...', 'info');
            
            try {
                const tempCanvas = document.createElement('canvas');
                tempCanvas.width = 1920;
                tempCanvas.height = 500;
                const ctx = tempCanvas.getContext('2d');
                
                if (!ctx) throw new Error('–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç canvas');
                
                // –í—Å–µ–≥–¥–∞ —á–µ—Ä–Ω—ã–π —Ñ–æ–Ω –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
                ctx.fillStyle = '#0a0a14';
                ctx.fillRect(0, 0, tempCanvas.width, tempCanvas.height);
                
                if (withEffects) {
                    // –†–∏—Å—É–µ–º —Ñ–æ–Ω –µ—Å–ª–∏ –≤—ã–±—Ä–∞–Ω
                    if (state.bgAnimation !== 'none') {
                        switch(state.bgAnimation) {
                            case 'grid':
                                drawGrid(ctx, tempCanvas.width, tempCanvas.height);
                                break;
                            case 'circuits':
                                drawCircuits(ctx, tempCanvas.width, tempCanvas.height);
                                break;
                            case 'dots':
                                drawDots(ctx, tempCanvas.width, tempCanvas.height);
                                break;
                            case 'waves':
                                drawWaves(ctx, tempCanvas.width, tempCanvas.height);
                                break;
                        }
                    }
                } else {
                    // –ü—Ä–æ—Å—Ç–∞—è —Å–µ—Ç–∫–∞ –¥–ª—è –±–∞–∑–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏
                    ctx.strokeStyle = 'rgba(0, 243, 255, 0.1)';
                    ctx.lineWidth = 1;
                    
                    for (let x = 0; x < tempCanvas.width; x += 80) {
                        ctx.beginPath();
                        ctx.moveTo(x, 0);
                        ctx.lineTo(x, tempCanvas.height);
                        ctx.stroke();
                    }
                    
                    for (let y = 0; y < tempCanvas.height; y += 80) {
                        ctx.beginPath();
                        ctx.moveTo(0, y);
                        ctx.lineTo(tempCanvas.width, y);
                        ctx.stroke();
                    }
                }
                
                // –¢–µ–∫—Å—Ç
                ctx.font = 'bold 100px Orbitron';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillStyle = state.color;
                ctx.shadowColor = state.color;
                ctx.shadowBlur = state.glowStrength;
                ctx.fillText(state.mainText, tempCanvas.width / 2, tempCanvas.height / 2 - 40);
                ctx.shadowBlur = 0;
                
                if (state.showSubText && state.subText) {
                    ctx.font = 'bold 40px Orbitron';
                    ctx.fillStyle = state.color;
                    ctx.fillText(state.subText, tempCanvas.width / 2, tempCanvas.height / 2 + 60);
                }
                
                // –°—Ç–∏–∫–µ—Ä—ã –µ—Å–ª–∏ –µ—Å—Ç—å
                if (withEffects && state.stickerType !== 'none') {
                    const emojis = getStickerEmojis();
                    ctx.font = '80px Arial';
                    ctx.fillStyle = state.color;
                    ctx.fillText(emojis[0], tempCanvas.width * 0.15, tempCanvas.height * 0.3);
                    ctx.fillStyle = getComplementaryColor(state.color);
                    ctx.fillText(emojis[1], tempCanvas.width * 0.85, tempCanvas.height * 0.7);
                }
                
                // –í–æ–¥—è–Ω–æ–π –∑–Ω–∞–∫
                ctx.fillStyle = 'rgba(255, 255, 255, 0.3)';
                ctx.font = 'bold 24px Orbitron';
                ctx.textAlign = 'left';
                ctx.fillText('–°–æ–∑–¥–∞–Ω–æ –≤ NUAR Studio', 50, tempCanvas.height - 30);
                
                const timestamp = new Date().toISOString().slice(0, 19).replace(/:/g, '-');
                const filename = `nuar-${withEffects ? 'full' : 'simple'}-${timestamp}.png`;
                
                const link = document.createElement('a');
                link.download = filename;
                link.href = tempCanvas.toDataURL('image/png');
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                
                showNotification(`–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–∫–∞—á–∞–Ω–æ! (${withEffects ? '—Å —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏' : '–±–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è'})`, 'success');
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:', error);
                showNotification('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è', 'error');
            }
        }

        // ========== –ü–†–û–°–¢–û–ô GIF (–ë–ï–ó –ë–ò–ë–õ–ò–û–¢–ï–ö) ==========
        function createSimpleGif() {
            showNotification('–°–æ–∑–¥–∞–µ–º –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ...', 'info');
            
            try {
                // –°–æ–∑–¥–∞–µ–º –æ–¥–∏–Ω –∫–∞–¥—Ä —Å –ø—É–ª—å—Å–∞—Ü–∏–µ–π
                const tempCanvas = document.createElement('canvas');
                tempCanvas.width = 800;
                tempCanvas.height = 300;
                const ctx = tempCanvas.getContext('2d');
                
                if (!ctx) throw new Error('–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç canvas');
                
                // –ß–µ—Ä–Ω—ã–π —Ñ–æ–Ω
                ctx.fillStyle = '#0a0a14';
                ctx.fillRect(0, 0, tempCanvas.width, tempCanvas.height);
                
                // –î–æ–±–∞–≤–ª—è–µ–º —Å–µ—Ç–∫—É
                ctx.strokeStyle = 'rgba(0, 243, 255, 0.1)';
                ctx.lineWidth = 1;
                
                for (let x = 0; x < tempCanvas.width; x += 50) {
                    ctx.beginPath();
                    ctx.moveTo(x, 0);
                    ctx.lineTo(x, tempCanvas.height);
                    ctx.stroke();
                }
                
                for (let y = 0; y < tempCanvas.height; y += 50) {
                    ctx.beginPath();
                    ctx.moveTo(0, y);
                    ctx.lineTo(tempCanvas.width, y);
                    ctx.stroke();
                }
                
                // –¢–µ–∫—Å—Ç —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º —Å–≤–µ—á–µ–Ω–∏–µ–º –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏
                const maxGlow = state.glowStrength * 1.5;
                
                ctx.font = 'bold 60px Orbitron';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillStyle = state.color;
                ctx.shadowColor = state.color;
                ctx.shadowBlur = maxGlow;
                ctx.fillText(state.mainText, tempCanvas.width / 2, tempCanvas.height / 2 - 20);
                
                if (state.showSubText && state.subText) {
                    ctx.font = 'bold 30px Orbitron';
                    ctx.fillStyle = state.color;
                    ctx.fillText(state.subText, tempCanvas.width / 2, tempCanvas.height / 2 + 40);
                }
                
                ctx.shadowBlur = 0;
                
                // –í–æ–¥—è–Ω–æ–π –∑–Ω–∞–∫
                ctx.fillStyle = 'rgba(255, 255, 255, 0.3)';
                ctx.font = 'bold 20px Orbitron';
                ctx.textAlign = 'left';
                ctx.fillText('–ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è - NUAR Studio', 20, tempCanvas.height - 20);
                
                const timestamp = new Date().toISOString().slice(0, 19).replace(/:/g, '-');
                const filename = `nuar-animated-${timestamp}.png`;
                
                const link = document.createElement('a');
                link.download = filename;
                link.href = tempCanvas.toDataURL('image/png');
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                
                showNotification('–ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–∫–∞—á–∞–Ω–æ! –î–æ–±–∞–≤—å—Ç–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ.', 'success');
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ GIF:', error);
                showNotification('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è', 'error');
            }
        }

        // ========== –û–°–¢–ê–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò ==========
        function getComplementaryColor(hex) {
            const colorMap = {
                '#00f3ff': '#ff00ff', '#ff00ff': '#00ff9d',
                '#00ff9d': '#ff5500', '#ff5500': '#9d00ff',
                '#9d00ff': '#00f3ff', '#ff009d': '#00ffea',
                '#00ffea': '#ff009d', '#ffcc00': '#33ccff',
                '#33ccff': '#ffcc00', '#00ff7f': '#ff3366',
                '#ff3366': '#00ff7f', '#cc33ff': '#33ffcc',
                '#33ffcc': '#cc33ff'
            };
            return colorMap[hex] || '#ffffff';
        }

        function updateFileSize() {
            if (!elements.fileSize) return;
            elements.fileSize.textContent = `~${150 + (state.bgAnimation !== 'none' ? 100 : 0)} KB`;
        }

        function showNotification(message, type = 'info') {
            const oldNotifications = document.querySelectorAll('.nuar-notification');
            oldNotifications.forEach(n => {
                n.style.animation = 'slideOutRight 0.3s ease-in forwards';
                setTimeout(() => n.remove(), 300);
            });
            
            const notification = document.createElement('div');
            notification.className = 'nuar-notification';
            
            const colors = {
                success: 'linear-gradient(135deg, #00ff9d, #00b36b)',
                error: 'linear-gradient(135deg, #ff3366, #cc0066)',
                info: 'linear-gradient(135deg, #00f3ff, #0099cc)',
                warning: 'linear-gradient(135deg, #ffcc00, #ff9900)'
            };
            
            notification.style.background = colors[type] || colors.info;
            
            const icons = {
                success: 'fa-check-circle', error: 'fa-exclamation-circle',
                info: 'fa-info-circle', warning: 'fa-exclamation-triangle'
            };
            
            notification.innerHTML = `<i class="fas ${icons[type] || 'fa-info-circle'}"></i><span>${message}</span>`;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOutRight 0.3s ease-in forwards';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        // ========== –ê–ù–ò–ú–ê–¶–ò–Ø ==========
        function startAnimation() {
            if (!state.animationId) {
                state.animationId = requestAnimationFrame(animate);
            }
        }

        function animate(currentTime) {
            if (!state.lastRenderTime) state.lastRenderTime = currentTime;
            const deltaTime = currentTime - state.lastRenderTime;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–æ–Ω—ã
            if (state.bgAnimation === 'waves' && elements.canvas) {
                renderBackground();
            }
            
            state.lastRenderTime = currentTime;
            state.animationId = requestAnimationFrame(animate);
        }

        // ========== –°–õ–£–ß–ê–ô–ù–´–ô –î–ò–ó–ê–ô–ù ==========
        function randomDesign() {
            const colors = ['#00f3ff', '#ff00ff', '#00ff9d', '#ff5500', '#9d00ff', '#00ffea', '#ffcc00', '#ff3366'];
            const templates = ['gamer', 'music', 'creative', 'tech', 'podcast', 'education'];
            const glowTypes = ['simple', 'double', 'pulse', 'neon-rainbow', 'glitch'];
            const bgAnimations = ['none', 'grid', 'circuits', 'dots', 'waves'];
            
            const mainTexts = [
                'CYBERSTREAMER LIVE',
                'NEON NIGHTS',
                'DIGITAL DREAMS',
                'SYNTHWAVE RADIO',
                'GAME ZONE',
                'TECH TALK',
                'CREATIVE FLOW',
                'FUTURE VIBES'
            ];
            
            const subTexts = [
                '–ü—Ä—è–º–æ–π —ç—Ñ–∏—Ä 24/7',
                '–ò–≥—Ä–∞—é –≤ –ª—É—á—à–∏–µ –∏–≥—Ä—ã',
                '–°–æ–∑–¥–∞—é —Ü–∏—Ñ—Ä–æ–≤–æ–µ –∏—Å–∫—É—Å—Å—Ç–≤–æ',
                '–û–±—Å—É–∂–¥–∞—é —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏',
                '–£—á—É –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é',
                '–ú—É–∑—ã–∫–∞ –¥–ª—è –¥—É—à–∏',
                '–†–∏—Å—É—é –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏',
                '–†–∞–∑–±–∏—Ä–∞—é –Ω–æ–≤–∏–Ω–∫–∏'
            ];
            
            state.color = colors[Math.floor(Math.random() * colors.length)];
            state.glowType = glowTypes[Math.floor(Math.random() * glowTypes.length)];
            state.glowStrength = 15 + Math.floor(Math.random() * 35);
            state.mainText = mainTexts[Math.floor(Math.random() * mainTexts.length)];
            state.subText = subTexts[Math.floor(Math.random() * subTexts.length)];
            state.template = templates[Math.floor(Math.random() * templates.length)];
            state.bgAnimation = bgAnimations[Math.floor(Math.random() * bgAnimations.length)];
            state.stickerType = Math.random() > 0.3 ? ['gaming', 'music', 'tech', 'cyber'][Math.floor(Math.random() * 4)] : 'none';
            state.showSubText = Math.random() > 0.2;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º UI
            updateUIFromState();
            renderBackground();
            updatePreview();
            
            showNotification('–°–ª—É—á–∞–π–Ω—ã–π –¥–∏–∑–∞–π–Ω —Å–æ–∑–¥–∞–Ω!', 'success');
        }

        // ========== –°–ë–†–û–° –î–ò–ó–ê–ô–ù–ê ==========
        function resetDesign() {
            state.mainText = 'CYBERSTREAMER LIVE';
            state.subText = '–ò–≥—Ä–∞–µ—Ç –≤ Cyberpunk 2077';
            state.color = '#00f3ff';
            state.glowType = 'pulse';
            state.glowStrength = 25;
            state.bgAnimation = 'grid';
            state.stickerType = 'gaming';
            state.qrUrl = '';
            state.template = 'gamer';
            state.showSubText = true;
            
            updateUIFromState();
            renderBackground();
            updatePreview();
            
            showNotification('–î–∏–∑–∞–π–Ω —Å–±—Ä–æ—à–µ–Ω –¥–æ –Ω–∞—á–∞–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫', 'info');
        }

        // ========== –≠–ö–°–ü–û–†–¢ –ù–ê–°–¢–†–û–ï–ö ==========
        function exportSettings() {
            const settings = {
                mainText: state.mainText,
                subText: state.subText,
                color: state.color,
                glowType: state.glowType,
                glowStrength: state.glowStrength,
                bgAnimation: state.bgAnimation,
                stickerType: state.stickerType,
                qrUrl: state.qrUrl,
                template: state.template,
                showSubText: state.showSubText,
                exportDate: new Date().toISOString()
            };
            
            const dataStr = JSON.stringify(settings, null, 2);
            const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
            
            const link = document.createElement('a');
            link.setAttribute('href', dataUri);
            link.setAttribute('download', `nuar-settings-${Date.now()}.json`);
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            showNotification('–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ JSON —Ñ–∞–π–ª', 'success');
        }

        function updateUIFromState() {
            if (elements.mainText) elements.mainText.value = state.mainText;
            if (elements.subText) elements.subText.value = state.subText;
            if (elements.glowType) elements.glowType.value = state.glowType;
            if (elements.glowStrength) {
                elements.glowStrength.value = state.glowStrength;
                if (elements.glowValue) elements.glowValue.textContent = state.glowStrength;
            }
            if (elements.bgAnimation) elements.bgAnimation.value = state.bgAnimation;
            if (elements.stickerSelect) elements.stickerSelect.value = state.stickerType;
            if (elements.qrUrl) elements.qrUrl.value = state.qrUrl;
            if (elements.hideSubText) {
                elements.hideSubText.checked = state.showSubText;
            }
            
            if (elements.colorOptions) {
                elements.colorOptions.forEach(opt => {
                    opt.classList.remove('active');
                    if (opt.dataset.color === state.color) {
                        opt.classList.add('active');
                    }
                });
            }
            
            if (elements.templateCards) {
                elements.templateCards.forEach(card => {
                    card.classList.remove('active');
                    if (card.dataset.template === state.template) {
                        card.classList.add('active');
                    }
                });
            }
        }

        // ========== –ö–û–ü–ò–†–û–í–ê–ù–ò–ï CSS ==========
        function copyCss() {
            const css = `/* CSS –¥–ª—è —à–∞–ø–∫–∏ –æ—Ç NUAR Studio */
.header-container {
    position: relative;
    width: 100%;
    height: 500px;
    background: #0a0a14;
    overflow: hidden;
    font-family: 'Orbitron', sans-serif;
}

.header-text {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
    z-index: 2;
}

.main-text {
    font-size: 5rem;
    font-weight: bold;
    color: ${state.color};
    text-shadow: ${getTextShadow()};
    margin-bottom: 1rem;
}

.sub-text {
    font-size: 2rem;
    color: ${state.color};
    opacity: 0.9;
}`;

            if (navigator.clipboard && navigator.clipboard.writeText) {
                navigator.clipboard.writeText(css).then(() => {
                    showNotification('CSS –∫–æ–¥ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!', 'success');
                });
            } else {
                const textArea = document.createElement('textarea');
                textArea.value = css;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                showNotification('CSS –∫–æ–¥ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!', 'success');
            }
        }

        // ========== –ü–û–î–ï–õ–ò–¢–¨–°–Ø –î–ò–ó–ê–ô–ù–û–ú ==========
        function shareDesign() {
            const designData = {
                title: `–ú–æ–π –¥–∏–∑–∞–π–Ω: ${state.mainText}`,
                text: `–°–æ–∑–¥–∞–ª(–∞) –∫—Ä—É—Ç—É—é —à–∞–ø–∫—É –≤ NUAR Studio! –ü–æ—Å–º–æ—Ç—Ä–∏: "${state.mainText}"`,
                url: window.location.href
            };

            if (navigator.share && navigator.canShare(designData)) {
                navigator.share(designData)
                    .then(() => showNotification('–°–ø–∞—Å–∏–±–æ –∑–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏—é!', 'success'))
                    .catch(() => copyDesignLink());
            } else {
                copyDesignLink();
            }
        }

        function copyDesignLink() {
            const designConfig = {
                mainText: state.mainText,
                subText: state.subText,
                color: state.color,
                glowType: state.glowType,
                glowStrength: state.glowStrength,
                template: state.template
            };
            
            const encoded = btoa(JSON.stringify(designConfig));
            const link = `${window.location.origin}${window.location.pathname}?design=${encoded}`;
            
            if (navigator.clipboard && navigator.clipboard.writeText) {
                navigator.clipboard.writeText(link).then(() => {
                    showNotification('–°—Å—ã–ª–∫–∞ –Ω–∞ –¥–∏–∑–∞–π–Ω —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ –≤ –±—É—Ñ–µ—Ä!', 'success');
                });
            }
        }

        // ========== –ó–ê–ì–†–£–ó–ö–ê ==========
        window.addEventListener('load', init);
    </script>
</body>
</html>
