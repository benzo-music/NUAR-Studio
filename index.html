<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NUAR Studio | –ö–∏–±–µ—Ä–ø–∞–Ω–∫-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –¥–ª—è —Å—Ç—Ä–∏–º–µ—Ä–æ–≤</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;800;900&family=JetBrains+Mono:wght@300;400;500;600&display=swap" rel="stylesheet">
    <!-- –ò–ö–û–ù–ö–ê –í–ö–õ–ê–î–ö–ò -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><defs><linearGradient id=%22brainGrad%22 x1=%220%25%22 y1=%220%25%22 x2=%22100%25%22 y2=%22100%25%22><stop offset=%220%25%22 style=%22stop-color:%2300f3ff;stop-opacity:1%22/><stop offset=%22100%25%22 style=%22stop-color:%23ff00ff;stop-opacity:1%22/></linearGradient></defs><path d=%22M50,20 Q70,25 75,40 Q80,55 70,70 Q60,85 50,80 Q40,85 30,70 Q20,55 25,40 Q30,25 50,20Z%22 fill=%22url(%23brainGrad)%22 stroke=%22%2300f3ff%22 stroke-width=%222%22/><circle cx=%2250%22 cy=%2240%22 r=%225%22 fill=%22white%22/><path d=%22M40,55 Q50,60 60,55%22 stroke=%22%23ff00ff%22 stroke-width=%222%22 fill=%22none%22/></svg>">
    <!-- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è GIF -->
    <script src="https://unpkg.com/gif.js@0.2.0/dist/gif.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gif.js@0.2.0/dist/gif.worker.js"></script>
    <style>
        :root {
            --neon-blue: #00f3ff;
            --neon-pink: #ff00ff;
            --neon-green: #00ff9d;
            --neon-orange: #ff5500;
            --dark-bg: #0a0a14;
            --panel-bg: rgba(20, 25, 40, 0.97);
            --glow-strength: 25;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            background: var(--dark-bg); 
            color: white; 
            font-family: 'JetBrains Mono', monospace;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .cyber-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                linear-gradient(rgba(0, 243, 255, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 243, 255, 0.03) 1px, transparent 1px);
            background-size: 60px 60px;
            opacity: 0.4;
            z-index: -1;
            animation: gridMove 40s linear infinite;
        }

        @keyframes gridMove {
            0% { background-position: 0 0; }
            100% { background-position: 120px 120px; }
        }

        .navbar {
            background: rgba(10, 15, 30, 0.98);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(0, 243, 255, 0.3);
            backdrop-filter: blur(20px);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo {
            font-family: 'Orbitron', sans-serif;
            font-size: 2rem;
            background: linear-gradient(135deg, #00f3ff, #ff00ff);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 800;
        }

        .logo-icon {
            color: #00f3ff;
            animation: spinSlow 10s linear infinite;
            font-size: 2.5rem;
        }

        @keyframes spinSlow {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .ecosystem-links {
            display: flex;
            gap: 1rem;
        }

        .ecosystem-btn {
            background: rgba(0, 243, 255, 0.1);
            color: #00f3ff;
            border: 1px solid rgba(0, 243, 255, 0.3);
            padding: 0.5rem 1.2rem;
            border-radius: 8px;
            text-decoration: none;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9rem;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .ecosystem-btn:hover {
            background: rgba(0, 243, 255, 0.2);
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(0, 243, 255, 0.2);
        }

        .main-container {
            display: grid;
            grid-template-columns: 350px 1fr 300px;
            gap: 2rem;
            padding: 2rem;
            max-width: 1800px;
            margin: 0 auto;
            min-height: calc(100vh - 80px);
        }

        .settings-panel {
            background: var(--panel-bg);
            border-radius: 20px;
            padding: 1.5rem;
            border: 1px solid rgba(0, 243, 255, 0.2);
            backdrop-filter: blur(10px);
            height: fit-content;
            position: sticky;
            top: 100px;
        }

        .panel-title {
            color: #00f3ff;
            font-family: 'Orbitron', sans-serif;
            font-size: 1.3rem;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 10px;
            border-bottom: 2px solid rgba(0, 243, 255, 0.2);
            padding-bottom: 10px;
        }

        .category {
            margin-bottom: 2rem;
        }

        .category-title {
            color: #ff00ff;
            font-family: 'Orbitron', sans-serif;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1rem;
        }

        .control-item {
            margin-bottom: 1.2rem;
        }

        label {
            display: block;
            color: #a0b8d0;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }

        input[type="text"], input[type="range"], select {
            width: 100%;
            padding: 12px;
            background: rgba(0, 10, 20, 0.8);
            border: 1px solid rgba(0, 243, 255, 0.3);
            border-radius: 10px;
            color: white;
            font-family: 'JetBrains Mono', monospace;
            font-size: 1rem;
            transition: all 0.3s;
        }

        input[type="text"]:focus, select:focus {
            outline: none;
            border-color: #00f3ff;
            box-shadow: 0 0 15px rgba(0, 243, 255, 0.3);
        }

        .checkbox-container {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 0.5rem;
        }

        .checkbox-container input[type="checkbox"] {
            width: 18px;
            height: 18px;
            accent-color: #00f3ff;
        }

        .color-grid {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 8px;
            margin-top: 0.5rem;
        }

        .color-option {
            width: 35px;
            height: 35px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            border: 2px solid transparent;
        }

        .color-option:hover {
            transform: scale(1.15);
        }

        .color-option.active {
            border-color: white;
            box-shadow: 0 0 15px currentColor;
        }

        .preview-section {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .preview-container {
            background: var(--panel-bg);
            border-radius: 20px;
            padding: 2.5rem;
            border: 1px solid rgba(255, 0, 255, 0.2);
            backdrop-filter: blur(10px);
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 600px;
            position: relative;
            overflow: hidden;
        }

        #renderCanvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
        }

        .sticker {
            position: absolute;
            font-size: 2rem;
            opacity: 0.6;
            animation: float 3s ease-in-out infinite;
            z-index: 2;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
        }

        .templates-panel {
            background: var(--panel-bg);
            border-radius: 20px;
            padding: 1.5rem;
            border: 1px solid rgba(0, 243, 255, 0.2);
            height: fit-content;
            position: sticky;
            top: 100px;
        }

        .template-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1rem;
            margin-top: 1rem;
        }

        .template-card {
            background: rgba(0, 10, 20, 0.6);
            border-radius: 15px;
            padding: 1.5rem;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .template-card:hover {
            border-color: #00f3ff;
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 243, 255, 0.2);
        }

        .template-card.active {
            border-color: #ff00ff;
            background: rgba(255, 0, 255, 0.05);
        }

        .template-icon {
            font-size: 2rem;
            margin-bottom: 10px;
            display: block;
        }

        .live-text {
            font-family: 'Orbitron', sans-serif;
            font-size: 3.5rem;
            text-align: center;
            margin: 2rem 0;
            padding: 2rem;
            border-radius: 15px;
            background: rgba(0, 0, 0, 0.2);
            min-height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            transition: all 0.5s;
            z-index: 2;
            width: 100%;
        }

        .text-container {
            position: relative;
            z-index: 3;
        }

        .main-preview {
            font-size: 3.5rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            transition: text-shadow 0.3s;
        }

        .sub-preview {
            font-size: 1.8rem;
            opacity: 0.9;
            transition: all 0.3s;
        }

        .sub-preview.hidden {
            display: none;
        }

        /* –û–ë–ù–û–í–õ–ï–ù–ù–´–ï –ê–ù–ò–ú–ê–¶–ò–ò –° CSS –ü–ï–†–ï–ú–ï–ù–ù–´–ú–ò */
        @keyframes pulseGlow {
            0%, 100% { 
                text-shadow: 0 0 calc(var(--glow-strength) * 1px) currentColor, 
                           0 0 calc(var(--glow-strength) * 1.5px) currentColor,
                           0 0 calc(var(--glow-strength) * 2px) currentColor; 
            }
            50% { 
                text-shadow: 0 0 calc(var(--glow-strength) * 1.5px) currentColor, 
                           0 0 calc(var(--glow-strength) * 2px) currentColor,
                           0 0 calc(var(--glow-strength) * 2.5px) currentColor; 
            }
        }

        @keyframes doubleGlow {
            0%, 100% { 
                text-shadow: 0 0 calc(var(--glow-strength) * 1px) currentColor, 
                           0 0 calc(var(--glow-strength) * 1.5px) currentColor; 
            }
            50% { 
                text-shadow: 0 0 calc(var(--glow-strength) * 1.5px) currentColor, 
                           0 0 calc(var(--glow-strength) * 2px) currentColor; 
            }
        }

        @keyframes neonRainbow {
            0% { 
                text-shadow: 0 0 calc(var(--glow-strength) * 0.5px) #ff00ff, 
                           0 0 calc(var(--glow-strength) * 1px) #ff00ff; 
            }
            25% { 
                text-shadow: 0 0 calc(var(--glow-strength) * 0.5px) #00f3ff, 
                           0 0 calc(var(--glow-strength) * 1px) #00f3ff; 
            }
            50% { 
                text-shadow: 0 0 calc(var(--glow-strength) * 0.5px) #00ff9d, 
                           0 0 calc(var(--glow-strength) * 1px) #00ff9d; 
            }
            75% { 
                text-shadow: 0 0 calc(var(--glow-strength) * 0.5px) #ff5500, 
                           0 0 calc(var(--glow-strength) * 1px) #ff5500; 
            }
            100% { 
                text-shadow: 0 0 calc(var(--glow-strength) * 0.5px) #ff00ff, 
                           0 0 calc(var(--glow-strength) * 1px) #ff00ff; 
            }
        }

        @keyframes glitchEffect {
            0% { 
                text-shadow: 2px 2px calc(var(--glow-strength) * 0.5px) currentColor, 
                           -2px -2px calc(var(--glow-strength) * 0.5px) currentColor; 
            }
            50% { 
                text-shadow: -2px 2px calc(var(--glow-strength) * 0.5px) currentColor, 
                           2px -2px calc(var(--glow-strength) * 0.5px) currentColor; 
            }
            100% { 
                text-shadow: 2px 2px calc(var(--glow-strength) * 0.5px) currentColor, 
                           -2px -2px calc(var(--glow-strength) * 0.5px) currentColor; 
            }
        }

        .action-buttons {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin-top: 2rem;
            width: 100%;
            z-index: 2;
            position: relative;
        }

        .action-btn {
            padding: 15px;
            border: none;
            border-radius: 12px;
            font-family: 'Orbitron', sans-serif;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.3s;
            font-size: 1rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, #00f3ff, #9d00ff);
            color: white;
        }

        .btn-secondary {
            background: rgba(0, 243, 255, 0.1);
            color: #00f3ff;
            border: 2px solid #00f3ff;
        }

        .btn-success {
            background: linear-gradient(135deg, #00ff9d, #00b36b);
            color: white;
        }

        .btn-warning {
            background: linear-gradient(135deg, #ff5500, #ff9900);
            color: white;
        }

        .action-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0, 243, 255, 0.4);
        }

        .status-bar {
            background: rgba(0, 10, 20, 0.8);
            padding: 1rem;
            border-radius: 10px;
            margin-top: 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.9rem;
            color: #a0b8d0;
            width: 100%;
            z-index: 2;
            position: relative;
        }

        .status-indicator {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .status-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #00ff9d;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .nuar-notification {
            position: fixed;
            top: 100px;
            right: 20px;
            color: white;
            padding: 15px 25px;
            border-radius: 12px;
            font-family: 'Orbitron', sans-serif;
            font-weight: 600;
            z-index: 10000;
            animation: slideInRight 0.3s ease-out;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            gap: 12px;
            max-width: 400px;
        }

        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes slideOutRight {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(100%); opacity: 0; }
        }

        .progress-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 10001;
            flex-direction: column;
            gap: 20px;
        }

        .progress-bar {
            width: 300px;
            height: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            overflow: hidden;
            border: 2px solid #00f3ff;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00f3ff, #ff00ff);
            width: 0%;
            transition: width 0.3s;
        }

        .progress-text {
            color: #00f3ff;
            font-family: 'Orbitron', sans-serif;
            font-size: 1.2rem;
        }

        @media (max-width: 1400px) {
            .main-container { grid-template-columns: 300px 1fr; }
            .templates-panel { display: none; }
        }

        @media (max-width: 1200px) {
            .action-buttons { grid-template-columns: repeat(2, 1fr); }
        }

        @media (max-width: 992px) {
            .main-container { grid-template-columns: 1fr; padding: 1rem; }
            .settings-panel, .templates-panel { position: static; }
            .live-text { font-size: 2.5rem; }
            .main-preview { font-size: 2.5rem; }
            .action-buttons { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="cyber-bg"></div>

    <div class="progress-container" id="progressContainer">
        <div class="progress-text" id="progressText">–°–æ–∑–¥–∞–µ–º GIF... 0%</div>
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>
        <div style="color: #a0b8d0; font-size: 0.9rem; text-align: center; max-width: 300px;">
            –ü–æ–¥–æ–∂–¥–∏—Ç–µ 10-15 —Å–µ–∫—É–Ω–¥<br>–°–æ–∑–¥–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é —Å –≤–∞—à–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
        </div>
    </div>

    <nav class="navbar">
        <div class="logo-container">
            <div class="logo">
                <i class="fas fa-brain logo-icon"></i> NUAR STUDIO
            </div>
            <div style="color: #a0b8d0; font-size: 0.9rem;">
                –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –¥–ª—è —Å—Ç—Ä–∏–º–µ—Ä–æ–≤
            </div>
        </div>
        
        <div class="ecosystem-links">
            <a href="https://benzo-music.github.io/NUAR/" target="_blank" class="ecosystem-btn">
                <i class="fas fa-language"></i> –ü–µ—Ä–µ–≤–æ–¥—á–∏–∫
            </a>
        </div>
    </nav>

    <div class="main-container">
        <div class="settings-panel">
            <div class="panel-title">
                <i class="fas fa-sliders-h"></i> –ù–ê–°–¢–†–û–ô–ö–ò –î–ò–ó–ê–ô–ù–ê
            </div>

            <div class="category">
                <div class="category-title">
                    <i class="fas fa-font"></i> –¢–ï–ö–°–¢
                </div>
                <div class="control-item">
                    <label>–û—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç:</label>
                    <input type="text" id="mainText" value="CYBERSTREAMER LIVE" maxlength="30">
                </div>
                <div class="control-item">
                    <label>–í—Ç–æ—Ä–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç:</label>
                    <input type="text" id="subText" value="–ò–≥—Ä–∞–µ—Ç –≤ Cyberpunk 2077" maxlength="40">
                </div>
                <div class="control-item">
                    <div class="checkbox-container">
                        <input type="checkbox" id="hideSubText" checked>
                        <label for="hideSubText" style="margin-bottom: 0;">–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤—Ç–æ—Ä–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç</label>
                    </div>
                </div>
            </div>

            <div class="category">
                <div class="category-title">
                    <i class="fas fa-palette"></i> –¶–í–ï–¢–ê
                </div>
                <div class="control-item">
                    <label>–¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞:</label>
                    <div class="color-grid">
                        <div class="color-option active" style="background:#00f3ff;" data-color="#00f3ff"></div>
                        <div class="color-option" style="background:#ff00ff;" data-color="#ff00ff"></div>
                        <div class="color-option" style="background:#00ff9d;" data-color="#00ff9d"></div>
                        <div class="color-option" style="background:#ff5500;" data-color="#ff5500"></div>
                        <div class="color-option" style="background:#9d00ff;" data-color="#9d00ff"></div>
                        <div class="color-option" style="background:#ff009d;" data-color="#ff009d"></div>
                        <div class="color-option" style="background:#00ffea;" data-color="#00ffea"></div>
                        <div class="color-option" style="background:#ffcc00;" data-color="#ffcc00"></div>
                        <div class="color-option" style="background:#00ff7f;" data-color="#00ff7f"></div>
                        <div class="color-option" style="background:#ff3366;" data-color="#ff3366"></div>
                        <div class="color-option" style="background:#33ccff;" data-color="#33ccff"></div>
                        <div class="color-option" style="background:#cc33ff;" data-color="#cc33ff"></div>
                    </div>
                </div>
                <div class="control-item">
                    <label>–¶–≤–µ—Ç —Ñ–æ–Ω–∞:</label>
                    <div class="color-grid">
                        <div class="color-option" style="background:#0a0a14;" data-bg-color="#0a0a14" title="–¢–µ–º–Ω—ã–π —Ñ–æ–Ω"></div>
                        <div class="color-option" style="background:#000000;" data-bg-color="#000000" title="–ß–µ—Ä–Ω—ã–π"></div>
                        <div class="color-option" style="background:#111827;" data-bg-color="#111827" title="–°–µ—Ä–æ-—Å–∏–Ω–∏–π"></div>
                        <div class="color-option active" style="background:#1a1a2e;" data-bg-color="#1a1a2e" title="–§–∏–æ–ª–µ—Ç–æ–≤–æ-—á–µ—Ä–Ω—ã–π"></div>
                        <div class="color-option" style="background:#16213e;" data-bg-color="#16213e" title="–¢–µ–º–Ω–æ-—Å–∏–Ω–∏–π"></div>
                        <div class="color-option" style="background:#0f3460;" data-bg-color="#0f3460" title="–°–∏–Ω–∏–π"></div>
                    </div>
                </div>
            </div>

            <div class="category">
                <div class="category-title">
                    <i class="fas fa-magic"></i> –≠–§–§–ï–ö–¢–´
                </div>
                <div class="control-item">
                    <label>–¢–∏–ø —Å–≤–µ—á–µ–Ω–∏—è:</label>
                    <select id="glowType">
                        <option value="simple">–ü—Ä–æ—Å—Ç–æ–µ —Å–≤–µ—á–µ–Ω–∏–µ</option>
                        <option value="double">–î–≤–æ–π–Ω–æ–µ —Å–≤–µ—á–µ–Ω–∏–µ</option>
                        <option value="pulse" selected>–ü—É–ª—å—Å–∏—Ä—É—é—â–µ–µ</option>
                        <option value="neon-rainbow">–ù–µ–æ–Ω–æ–≤–∞—è —Ä–∞–¥—É–≥–∞</option>
                        <option value="glitch">–ì–ª–∏—Ç—á-—ç—Ñ—Ñ–µ–∫—Ç</option>
                    </select>
                </div>
                <div class="control-item">
                    <label>–°–∏–ª–∞ —Å–≤–µ—á–µ–Ω–∏—è: <span id="glowValue">25</span>px</label>
                    <input type="range" id="glowStrength" min="5" max="60" value="25">
                </div>
                <div class="control-item">
                    <label>–ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ–Ω:</label>
                    <select id="bgAnimation">
                        <option value="none">–ù–µ—Ç</option>
                        <option value="grid" selected>–î–≤–∏–∂—É—â–∞—è—Å—è —Å–µ—Ç–∫–∞</option>
                        <option value="particles">–õ–µ—Ç–∞—é—â–∏–µ —á–∞—Å—Ç–∏—Ü—ã</option>
                        <option value="waves">–ù–µ–æ–Ω–æ–≤—ã–µ –≤–æ–ª–Ω—ã</option>
                        <option value="circuits">–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–µ —Å—Ö–µ–º—ã</option>
                        <option value="scan">–°–∫–∞–Ω–∏—Ä—É—é—â–∏–π –ª—É—á</option>
                        <option value="hexagon">–®–µ—Å—Ç–∏—É–≥–æ–ª—å–Ω–∏–∫–∏</option>
                        <option value="binary">–ë–∏–Ω–∞—Ä–Ω—ã–π –¥–æ–∂–¥—å</option>
                    </select>
                </div>
            </div>

            <div class="category">
                <div class="category-title">
                    <i class="fas fa-plus-circle"></i> –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û
                </div>
                <div class="control-item">
                    <label>–°—Ç–∏–∫–µ—Ä—ã:</label>
                    <select id="stickerSelect">
                        <option value="none">–ë–µ–∑ —Å—Ç–∏–∫–µ—Ä–æ–≤</option>
                        <option value="gaming" selected>–ò–≥—Ä–æ–≤—ã–µ</option>
                        <option value="music">–ú—É–∑—ã–∫–∞–ª—å–Ω—ã–µ</option>
                        <option value="tech">–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</option>
                        <option value="cyber">–ö–∏–±–µ—Ä–ø–∞–Ω–∫</option>
                    </select>
                </div>
                <div class="control-item">
                    <label>–î–æ–±–∞–≤–∏—Ç—å QR-–∫–æ–¥:</label>
                    <input type="text" id="qrUrl" placeholder="https://–≤–∞—à-—Å–∞–π—Ç.com">
                </div>
            </div>
        </div>

        <div class="preview-section">
            <div class="preview-container">
                <canvas id="renderCanvas"></canvas>
                
                <div class="sticker" id="sticker1" style="top:20%; left:10%;">
                    üéÆ
                </div>
                <div class="sticker" id="sticker2" style="top:30%; right:15%;">
                    üéß
                </div>

                <div class="live-text">
                    <div class="text-container">
                        <div class="main-preview" id="mainPreview">CYBERSTREAMER LIVE</div>
                        <div class="sub-preview" id="subPreview">–ò–≥—Ä–∞–µ—Ç –≤ Cyberpunk 2077</div>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="action-btn btn-primary" id="downloadSimpleBtn">
                        <i class="fas fa-download"></i> –°–ö–ê–ß–ê–¢–¨ PNG
                    </button>
                    <button class="action-btn btn-success" id="downloadFullBtn">
                        <i class="fas fa-image"></i> –° –≠–§–§–ï–ö–¢–ê–ú–ò
                    </button>
                    <button class="action-btn btn-warning" id="downloadGifBtn">
                        <i class="fas fa-film"></i> –°–ö–ê–ß–ê–¢–¨ GIF
                    </button>
                    <button class="action-btn btn-secondary" id="copyCssBtn">
                        <i class="fas fa-code"></i> –ö–û–ü–ò–†–û–í–ê–¢–¨ CSS
                    </button>
                    <button class="action-btn btn-secondary" id="shareBtn">
                        <i class="fas fa-share-alt"></i> –ü–û–î–ï–õ–ò–¢–¨–°–Ø
                    </button>
                    <button class="action-btn btn-secondary" id="exportJsonBtn">
                        <i class="fas fa-file-export"></i> –≠–ö–°–ü–û–†–¢ –ù–ê–°–¢–†–û–ï–ö
                    </button>
                </div>

                <div class="status-bar">
                    <div class="status-indicator">
                        <div class="status-dot"></div>
                        <span>–ì–æ—Ç–æ–≤ –∫ —ç–∫—Å–ø–æ—Ä—Ç—É</span>
                    </div>
                    <div>
                        <span id="fileSize">~450 KB</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="templates-panel">
            <div class="panel-title">
                <i class="fas fa-layer-group"></i> –ì–û–¢–û–í–´–ï –®–ê–ë–õ–û–ù–´
            </div>
            
            <div class="template-grid">
                <div class="template-card active" data-template="gamer">
                    <i class="fas fa-gamepad template-icon" style="color:#00f3ff;"></i>
                    <h3>–ì–µ–π–º–µ—Ä—Å–∫–∏–π</h3>
                    <p style="color:#a0b8d0; font-size:0.9rem; margin-top:5px;">
                        –î–ª—è –∏–≥—Ä–æ–≤—ã—Ö —Å—Ç—Ä–∏–º–æ–≤
                    </p>
                </div>
                
                <div class="template-card" data-template="music">
                    <i class="fas fa-music template-icon" style="color:#ff00ff;"></i>
                    <h3>–ú—É–∑—ã–∫–∞–ª—å–Ω—ã–π</h3>
                    <p style="color:#a0b8d0; font-size:0.9rem; margin-top:5px;">
                        –î–ª—è –º—É–∑—ã–∫–∞–ª—å–Ω—ã—Ö —Å—Ç—Ä–∏–º–æ–≤
                    </p>
                </div>
                
                <div class="template-card" data-template="creative">
                    <i class="fas fa-paint-brush template-icon" style="color:#00ff9d;"></i>
                    <h3>–¢–≤–æ—Ä—á–µ—Å–∫–∏–π</h3>
                    <p style="color:#a0b8d0; font-size:0.9rem; margin-top:5px;">
                        –î–ª—è —Ö—É–¥–æ–∂–Ω–∏–∫–æ–≤ –∏ –¥–∏–∑–∞–π–Ω–µ—Ä–æ–≤
                    </p>
                </div>
                
                <div class="template-card" data-template="tech">
                    <i class="fas fa-microchip template-icon" style="color:#ff5500;"></i>
                    <h3>–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</h3>
                    <p style="color:#a0b8d0; font-size:0.9rem; margin-top:5px;">
                        –î–ª—è IT-—Å—Ç—Ä–∏–º–æ–≤
                    </p>
                </div>
                
                <div class="template-card" data-template="podcast">
                    <i class="fas fa-podcast template-icon" style="color:#9d00ff;"></i>
                    <h3>–ü–æ–¥–∫–∞—Å—Ç</h3>
                    <p style="color:#a0b8d0; font-size:0.9rem; margin-top:5px;">
                        –î–ª—è –ø–æ–¥–∫–∞—Å—Ç–æ–≤ –∏ –∏–Ω—Ç–µ—Ä–≤—å—é
                    </p>
                </div>
                
                <div class="template-card" data-template="education">
                    <i class="fas fa-graduation-cap template-icon" style="color:#00ffea;"></i>
                    <h3>–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ</h3>
                    <p style="color:#a0b8d0; font-size:0.9rem; margin-top:5px;">
                        –î–ª—è –æ–±—É—á–∞—é—â–∏—Ö —Å—Ç—Ä–∏–º–æ–≤
                    </p>
                </div>
            </div>
            
            <div style="margin-top: 2rem; padding-top: 1.5rem; border-top: 1px solid rgba(0,243,255,0.1);">
                <div class="category-title">
                    <i class="fas fa-bolt"></i> –ë–´–°–¢–†–´–ï –ù–ê–°–¢–†–û–ô–ö–ò
                </div>
                <button class="action-btn btn-secondary" id="randomBtn" style="width:100%; margin-top:1rem;">
                    <i class="fas fa-random"></i> –°–õ–£–ß–ê–ô–ù–´–ô –î–ò–ó–ê–ô–ù
                </button>
                <button class="action-btn btn-secondary" id="resetBtn" style="width:100%; margin-top:0.5rem;">
                    <i class="fas fa-redo"></i> –°–ë–†–û–°–ò–¢–¨
                </button>
            </div>
        </div>
    </div>

    <script>
        const state = {
            mainText: 'CYBERSTREAMER LIVE',
            subText: '–ò–≥—Ä–∞–µ—Ç –≤ Cyberpunk 2077',
            color: '#00f3ff',
            backgroundColor: '#1a1a2e',
            glowType: 'pulse',
            glowStrength: 25,
            bgAnimation: 'grid',
            stickerType: 'gaming',
            qrUrl: '',
            template: 'gamer',
            particles: [],
            animationId: null,
            lastRenderTime: 0,
            showSubText: true
        };

        const elements = {
            canvas: document.getElementById('renderCanvas'),
            mainPreview: document.getElementById('mainPreview'),
            subPreview: document.getElementById('subPreview'),
            sticker1: document.getElementById('sticker1'),
            sticker2: document.getElementById('sticker2'),
            mainText: document.getElementById('mainText'),
            subText: document.getElementById('subText'),
            hideSubText: document.getElementById('hideSubText'),
            glowType: document.getElementById('glowType'),
            glowStrength: document.getElementById('glowStrength'),
            glowValue: document.getElementById('glowValue'),
            bgAnimation: document.getElementById('bgAnimation'),
            stickerSelect: document.getElementById('stickerSelect'),
            qrUrl: document.getElementById('qrUrl'),
            colorOptions: document.querySelectorAll('.color-option'),
            bgColorOptions: document.querySelectorAll('.color-option[data-bg-color]'),
            templateCards: document.querySelectorAll('.template-card'),
            downloadSimpleBtn: document.getElementById('downloadSimpleBtn'),
            downloadFullBtn: document.getElementById('downloadFullBtn'),
            downloadGifBtn: document.getElementById('downloadGifBtn'),
            copyCssBtn: document.getElementById('copyCssBtn'),
            shareBtn: document.getElementById('shareBtn'),
            randomBtn: document.getElementById('randomBtn'),
            resetBtn: document.getElementById('resetBtn'),
            exportJsonBtn: document.getElementById('exportJsonBtn'),
            fileSize: document.getElementById('fileSize'),
            progressContainer: document.getElementById('progressContainer'),
            progressText: document.getElementById('progressText'),
            progressFill: document.getElementById('progressFill')
        };

        function init() {
            setupCanvas();
            setupEventListeners();
            updatePreview();
            startAnimation();
            showNotification('NUAR Studio –∑–∞–≥—Ä—É–∂–µ–Ω!', 'success');
        }

        function setupCanvas() {
            const container = document.querySelector('.preview-container');
            if (container && elements.canvas) {
                elements.canvas.width = container.clientWidth;
                elements.canvas.height = container.clientHeight;
                drawBackground();
            }
        }

        function setupEventListeners() {
            elements.mainText.addEventListener('input', (e) => {
                state.mainText = e.target.value || '–í–∞—à —Ç–µ–∫—Å—Ç';
                updatePreview();
            });
            
            elements.subText.addEventListener('input', (e) => {
                state.subText = e.target.value;
                updatePreview();
            });
            
            elements.hideSubText.addEventListener('change', (e) => {
                state.showSubText = e.target.checked;
                updatePreview();
            });

            elements.colorOptions.forEach(option => {
                if (option.dataset.color) {
                    option.addEventListener('click', (e) => {
                        elements.colorOptions.forEach(o => o.classList.remove('active'));
                        e.target.classList.add('active');
                        state.color = e.target.dataset.color;
                        updatePreview();
                        drawBackground();
                    });
                }
            });

            elements.bgColorOptions.forEach(option => {
                option.addEventListener('click', (e) => {
                    elements.bgColorOptions.forEach(o => o.classList.remove('active'));
                    e.target.classList.add('active');
                    state.backgroundColor = e.target.dataset.bgColor;
                    drawBackground();
                });
            });

            elements.glowType.addEventListener('change', (e) => {
                state.glowType = e.target.value;
                updatePreview();
            });
            
            elements.glowStrength.addEventListener('input', (e) => {
                state.glowStrength = parseInt(e.target.value);
                elements.glowValue.textContent = state.glowStrength;
                // –û–±–Ω–æ–≤–ª—è–µ–º CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
                document.documentElement.style.setProperty('--glow-strength', state.glowStrength);
                updatePreview();
            });
            
            elements.bgAnimation.addEventListener('change', (e) => {
                state.bgAnimation = e.target.value;
                drawBackground();
            });
            
            elements.stickerSelect.addEventListener('change', (e) => {
                state.stickerType = e.target.value;
                updateStickers();
            });
            
            elements.qrUrl.addEventListener('input', (e) => {
                state.qrUrl = e.target.value;
            });

            elements.templateCards.forEach(card => {
                card.addEventListener('click', (e) => {
                    elements.templateCards.forEach(c => c.classList.remove('active'));
                    card.classList.add('active');
                    state.template = card.dataset.template;
                    applyTemplate(state.template);
                });
            });

            elements.downloadSimpleBtn.addEventListener('click', () => downloadImage(false));
            elements.downloadFullBtn.addEventListener('click', () => downloadImage(true));
            elements.downloadGifBtn.addEventListener('click', createRealAnimatedGif);
            elements.copyCssBtn.addEventListener('click', copyCss);
            elements.shareBtn.addEventListener('click', shareDesign);
            elements.randomBtn.addEventListener('click', randomDesign);
            elements.resetBtn.addEventListener('click', resetDesign);
            elements.exportJsonBtn.addEventListener('click', exportSettings);

            window.addEventListener('resize', () => {
                setupCanvas();
                drawBackground();
            });
        }

        function updatePreview() {
            if (!elements.mainPreview || !elements.subPreview) return;
            
            elements.mainPreview.textContent = state.mainText;
            elements.subPreview.textContent = state.subText;
            
            elements.mainPreview.style.color = state.color;
            elements.subPreview.style.color = state.color;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –¥–ª—è —Å–∏–ª—ã —Å–≤–µ—á–µ–Ω–∏—è
            document.documentElement.style.setProperty('--glow-strength', state.glowStrength);
            
            // –ü—Ä–∏–º–µ–Ω—è–µ–º –∞–Ω–∏–º–∞—Ü–∏–∏
            applyGlowAnimation();
            
            if (state.showSubText && state.subText.trim()) {
                elements.subPreview.classList.remove('hidden');
            } else {
                elements.subPreview.classList.add('hidden');
            }
            
            updateStickers();
            updateFileSize();
        }

        function applyGlowAnimation() {
            // –°–Ω–∞—á–∞–ª–∞ —É–±–∏—Ä–∞–µ–º –≤—Å–µ —Å—Ç–∞—Ä—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏
            elements.mainPreview.style.animation = '';
            elements.subPreview.style.animation = '';
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –±–∞–∑–æ–≤–æ–µ —Å–≤–µ—á–µ–Ω–∏–µ –¥–ª—è —Ç–∏–ø–∞ "simple"
            if (state.glowType === 'simple') {
                const glow = state.glowStrength;
                elements.mainPreview.style.textShadow = `0 0 ${glow}px ${state.color}`;
                elements.subPreview.style.textShadow = `0 0 ${glow * 0.7}px ${state.color}`;
                return; // –ù–µ –ø—Ä–∏–º–µ–Ω—è–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –¥–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ —Å–≤–µ—á–µ–Ω–∏—è
            }
            
            // –ü—Ä–∏–º–µ–Ω—è–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ —Å–≤–µ—á–µ–Ω–∏—è
            switch(state.glowType) {
                case 'pulse':
                    elements.mainPreview.style.animation = 'pulseGlow 2s infinite ease-in-out';
                    elements.subPreview.style.animation = 'pulseGlow 2s infinite ease-in-out 0.5s';
                    break;
                    
                case 'double':
                    elements.mainPreview.style.animation = 'doubleGlow 1.5s infinite ease-in-out';
                    elements.subPreview.style.animation = 'doubleGlow 1.5s infinite ease-in-out 0.3s';
                    break;
                    
                case 'neon-rainbow':
                    elements.mainPreview.style.animation = 'neonRainbow 3s infinite linear';
                    elements.subPreview.style.animation = 'neonRainbow 3s infinite linear 1.5s';
                    break;
                    
                case 'glitch':
                    elements.mainPreview.style.animation = 'glitchEffect 0.8s infinite';
                    elements.subPreview.style.animation = 'glitchEffect 0.8s infinite 0.2s';
                    break;
            }
            
            elements.subPreview.style.opacity = '0.9';
            
            if (elements.sticker1 && elements.sticker2) {
                elements.sticker1.style.color = state.color;
                elements.sticker2.style.color = getComplementaryColor(state.color);
            }
        }

        function drawBackground() {
            if (!elements.canvas || !elements.canvas.getContext) return;
            
            const ctx = elements.canvas.getContext('2d');
            if (!ctx) return;
            
            const width = elements.canvas.width;
            const height = elements.canvas.height;
            const time = Date.now() * 0.001;
            
            ctx.fillStyle = state.backgroundColor;
            ctx.fillRect(0, 0, width, height);
            
            switch(state.bgAnimation) {
                case 'grid':
                    drawGrid(ctx, width, height, time);
                    break;
                case 'particles':
                    drawParticles(ctx, width, height, time);
                    break;
                case 'waves':
                    drawWaves(ctx, width, height, time);
                    break;
                case 'circuits':
                    drawCircuits(ctx, width, height, time);
                    break;
                case 'scan':
                    drawScan(ctx, width, height, time);
                    break;
                case 'hexagon':
                    drawHexagon(ctx, width, height, time);
                    break;
                case 'binary':
                    drawBinary(ctx, width, height, time);
                    break;
            }
        }

        function drawGrid(ctx, width, height, time) {
            ctx.strokeStyle = 'rgba(0, 243, 255, 0.15)';
            ctx.lineWidth = 1;
            
            const offsetX = (time * 20) % 60;
            const offsetY = (time * 20) % 60;
            
            for (let x = -offsetX; x < width; x += 60) {
                ctx.beginPath();
                ctx.moveTo(x, 0);
                ctx.lineTo(x, height);
                ctx.stroke();
            }
            
            for (let y = -offsetY; y < height; y += 60) {
                ctx.beginPath();
                ctx.moveTo(0, y);
                ctx.lineTo(width, y);
                ctx.stroke();
            }
        }

        function drawParticles(ctx, width, height, time) {
            if (state.particles.length === 0) {
                for (let i = 0; i < 50; i++) {
                    state.particles.push({
                        x: Math.random() * width,
                        y: Math.random() * height,
                        size: Math.random() * 3 + 1,
                        speedX: (Math.random() - 0.5) * 2,
                        speedY: (Math.random() - 0.5) * 2,
                        color: Math.random() > 0.5 ? state.color : getComplementaryColor(state.color),
                        alpha: Math.random() * 0.5 + 0.2
                    });
                }
            }
            
            for (const p of state.particles) {
                p.x += p.speedX;
                p.y += p.speedY;
                
                if (p.x < 0 || p.x > width) p.speedX *= -1;
                if (p.y < 0 || p.y > height) p.speedY *= -1;
                
                ctx.fillStyle = p.color;
                ctx.globalAlpha = p.alpha;
                ctx.beginPath();
                ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
                ctx.fill();
            }
            ctx.globalAlpha = 1;
        }

        function drawWaves(ctx, width, height, time) {
            ctx.strokeStyle = state.color;
            ctx.lineWidth = 2;
            ctx.globalAlpha = 0.3;
            
            for (let i = 0; i < 5; i++) {
                const amplitude = 20 + i * 10;
                const frequency = 0.02 + i * 0.008;
                const offset = i * 50;
                
                ctx.beginPath();
                for (let x = 0; x < width; x++) {
                    const y = height / 2 + amplitude * Math.sin(x * frequency + time * 2 + i) + offset;
                    if (x === 0) ctx.moveTo(x, y);
                    else ctx.lineTo(x, y);
                }
                ctx.stroke();
            }
            ctx.globalAlpha = 1;
        }

        function drawCircuits(ctx, width, height, time) {
            ctx.strokeStyle = 'rgba(0, 255, 157, 0.2)';
            ctx.lineWidth = 2;
            
            for (let i = 0; i < 8; i++) {
                const x = width * (0.2 + Math.sin(time + i) * 0.1 + 0.3);
                const y = height * (0.2 + Math.cos(time + i) * 0.1 + 0.3);
                const radius = 40 + Math.sin(time * 2 + i) * 20;
                
                ctx.beginPath();
                ctx.arc(x, y, radius, 0, Math.PI * 2);
                ctx.stroke();
            }
        }

        function drawScan(ctx, width, height, time) {
            ctx.fillStyle = 'rgba(0, 243, 255, 0.05)';
            for (let y = 0; y < height; y += 4) {
                ctx.fillRect(0, y, width, 2);
            }
            
            const scanY = (time * 100) % height;
            ctx.fillStyle = 'rgba(0, 243, 255, 0.3)';
            ctx.fillRect(0, scanY, width, 3);
        }

        function drawHexagon(ctx, width, height, time) {
            ctx.strokeStyle = 'rgba(255, 0, 255, 0.15)';
            ctx.lineWidth = 1.5;
            
            const size = 40;
            const offsetX = (time * 10) % (size * 1.5);
            const offsetY = (time * 10) % (size * 1.5);
            
            for (let y = -size; y < height + size; y += size * 1.5) {
                for (let x = -size; x < width + size; x += size * 1.5) {
                    const hexX = x + offsetX;
                    const hexY = y + offsetY;
                    
                    ctx.beginPath();
                    for (let i = 0; i < 6; i++) {
                        const angle = Math.PI / 3 * i;
                        const px = hexX + size * Math.cos(angle);
                        const py = hexY + size * Math.sin(angle);
                        if (i === 0) ctx.moveTo(px, py);
                        else ctx.lineTo(px, py);
                    }
                    ctx.closePath();
                    ctx.stroke();
                }
            }
        }

        function drawBinary(ctx, width, height, time) {
            ctx.fillStyle = state.color;
            ctx.font = '16px JetBrains Mono';
            ctx.globalAlpha = 0.3;
            
            for (let i = 0; i < 20; i++) {
                const x = 50 + i * 70;
                const y = (time * 50 + i * 50) % (height + 100) - 50;
                ctx.fillText(Math.random() > 0.5 ? '01010101' : '10101010', x, y);
            }
            ctx.globalAlpha = 1;
        }

        function updateStickers() {
            const emojis = getStickerEmojis();
            if (elements.sticker1 && elements.sticker2) {
                elements.sticker1.innerHTML = emojis[0];
                elements.sticker2.innerHTML = emojis[1];
                
                const showStickers = state.stickerType !== 'none';
                elements.sticker1.style.display = showStickers ? 'block' : 'none';
                elements.sticker2.style.display = showStickers ? 'block' : 'none';
                
                if (showStickers) {
                    elements.sticker1.style.color = state.color;
                    elements.sticker2.style.color = getComplementaryColor(state.color);
                }
            }
        }

        function getStickerEmojis() {
            switch(state.stickerType) {
                case 'gaming': return ['üéÆ', 'üèÜ'];
                case 'music': return ['üéß', 'üéµ'];
                case 'tech': return ['üíª', 'ü§ñ'];
                case 'cyber': return ['üß†', 'üëÅÔ∏è'];
                default: return ['‚≠ê', '‚ö°'];
            }
        }

        function applyTemplate(template) {
            const templates = {
                gamer: {
                    mainText: 'CYBERSTREAMER LIVE',
                    subText: '–ò–≥—Ä–∞–µ—Ç –≤ Cyberpunk 2077',
                    color: '#00f3ff',
                    backgroundColor: '#1a1a2e',
                    glowType: 'pulse',
                    glowStrength: 25,
                    stickerType: 'gaming',
                    bgAnimation: 'grid'
                },
                music: {
                    mainText: 'SYNTHWAVE RADIO',
                    subText: '–ü—Ä—è–º–æ–π —ç—Ñ–∏—Ä ‚Ä¢ 24/7',
                    color: '#ff00ff',
                    backgroundColor: '#000000',
                    glowType: 'neon-rainbow',
                    glowStrength: 30,
                    stickerType: 'music',
                    bgAnimation: 'particles'
                },
                creative: {
                    mainText: 'DIGITAL ART ZONE',
                    subText: '–†–∏—Å—É—é –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏',
                    color: '#00ff9d',
                    backgroundColor: '#0f3460',
                    glowType: 'double',
                    glowStrength: 20,
                    stickerType: 'cyber',
                    bgAnimation: 'waves'
                },
                tech: {
                    mainText: 'TECH TALK LIVE',
                    subText: '–û–±—Å—É–∂–¥–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π',
                    color: '#ff5500',
                    backgroundColor: '#111827',
                    glowType: 'glitch',
                    glowStrength: 35,
                    stickerType: 'tech',
                    bgAnimation: 'circuits'
                },
                podcast: {
                    mainText: 'CYBERPUNK PODCAST',
                    subText: '–ù–æ–≤—ã–π –≤—ã–ø—É—Å–∫ –∫–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é',
                    color: '#9d00ff',
                    backgroundColor: '#0a0a14',
                    glowType: 'simple',
                    glowStrength: 15,
                    stickerType: 'none',
                    bgAnimation: 'none'
                },
                education: {
                    mainText: 'CODE ACADEMY',
                    subText: '–£—á–∏–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é',
                    color: '#00ffea',
                    backgroundColor: '#16213e',
                    glowType: 'pulse',
                    glowStrength: 25,
                    stickerType: 'tech',
                    bgAnimation: 'binary'
                }
            };
            
            const t = templates[template];
            if (!t) return;
            
            Object.assign(state, t);
            
            updateUIFromState();
            drawBackground();
            updatePreview();
            
            showNotification(`–®–∞–±–ª–æ–Ω "${template}" –ø—Ä–∏–º–µ–Ω–µ–Ω!`, 'success');
        }

        function updateUIFromState() {
            if (elements.mainText) elements.mainText.value = state.mainText;
            if (elements.subText) elements.subText.value = state.subText;
            if (elements.glowType) elements.glowType.value = state.glowType;
            if (elements.glowStrength) {
                elements.glowStrength.value = state.glowStrength;
                if (elements.glowValue) elements.glowValue.textContent = state.glowStrength;
            }
            if (elements.bgAnimation) elements.bgAnimation.value = state.bgAnimation;
            if (elements.stickerSelect) elements.stickerSelect.value = state.stickerType;
            if (elements.qrUrl) elements.qrUrl.value = state.qrUrl;
            if (elements.hideSubText) elements.hideSubText.checked = state.showSubText;
            
            if (elements.colorOptions) {
                elements.colorOptions.forEach(opt => {
                    opt.classList.remove('active');
                    if (opt.dataset.color === state.color) {
                        opt.classList.add('active');
                    }
                });
            }
            
            if (elements.bgColorOptions) {
                elements.bgColorOptions.forEach(opt => {
                    opt.classList.remove('active');
                    if (opt.dataset.bgColor === state.backgroundColor) {
                        opt.classList.add('active');
                    }
                });
            }
            
            if (elements.templateCards) {
                elements.templateCards.forEach(card => {
                    card.classList.remove('active');
                    if (card.dataset.template === state.template) {
                        card.classList.add('active');
                    }
                });
            }
        }

        function downloadImage(withEffects) {
            showNotification('–°–æ–∑–¥–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ...', 'info');
            
            try {
                const tempCanvas = document.createElement('canvas');
                tempCanvas.width = 1920;
                tempCanvas.height = 500;
                const ctx = tempCanvas.getContext('2d');
                
                if (!ctx) throw new Error('–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç canvas');
                
                ctx.fillStyle = state.backgroundColor;
                ctx.fillRect(0, 0, tempCanvas.width, tempCanvas.height);
                
                if (withEffects && state.bgAnimation !== 'none') {
                    const time = Date.now() * 0.001;
                    
                    switch(state.bgAnimation) {
                        case 'grid':
                            drawGrid(ctx, tempCanvas.width, tempCanvas.height, time);
                            break;
                        case 'particles':
                            drawParticles(ctx, tempCanvas.width, tempCanvas.height, time);
                            break;
                        case 'waves':
                            drawWaves(ctx, tempCanvas.width, tempCanvas.height, time);
                            break;
                        case 'circuits':
                            drawCircuits(ctx, tempCanvas.width, tempCanvas.height, time);
                            break;
                        case 'scan':
                            drawScan(ctx, tempCanvas.width, tempCanvas.height, time);
                            break;
                        case 'hexagon':
                            drawHexagon(ctx, tempCanvas.width, tempCanvas.height, time);
                            break;
                        case 'binary':
                            drawBinary(ctx, tempCanvas.width, tempCanvas.height, time);
                            break;
                    }
                } else if (!withEffects) {
                    ctx.strokeStyle = 'rgba(0, 243, 255, 0.1)';
                    ctx.lineWidth = 1;
                    
                    for (let x = 0; x < tempCanvas.width; x += 80) {
                        ctx.beginPath();
                        ctx.moveTo(x, 0);
                        ctx.lineTo(x, tempCanvas.height);
                        ctx.stroke();
                    }
                    
                    for (let y = 0; y < tempCanvas.height; y += 80) {
                        ctx.beginPath();
                        ctx.moveTo(0, y);
                        ctx.lineTo(tempCanvas.width, y);
                        ctx.stroke();
                    }
                }
                
                ctx.font = 'bold 100px Orbitron';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillStyle = state.color;
                
                const glow = state.glowStrength;
                ctx.shadowColor = state.color;
                ctx.shadowBlur = glow;
                
                if (state.glowType === 'neon-rainbow') {
                    const gradient = ctx.createLinearGradient(0, 0, tempCanvas.width, 0);
                    gradient.addColorStop(0, '#ff00ff');
                    gradient.addColorStop(0.25, '#00f3ff');
                    gradient.addColorStop(0.5, '#00ff9d');
                    gradient.addColorStop(0.75, '#ff5500');
                    gradient.addColorStop(1, '#ff00ff');
                    ctx.fillStyle = gradient;
                }
                
                ctx.fillText(state.mainText, tempCanvas.width / 2, tempCanvas.height / 2 - 40);
                ctx.shadowBlur = 0;
                
                if (state.showSubText && state.subText) {
                    ctx.font = 'bold 40px Orbitron';
                    ctx.fillStyle = state.color;
                    ctx.fillText(state.subText, tempCanvas.width / 2, tempCanvas.height / 2 + 60);
                }
                
                if (withEffects && state.stickerType !== 'none') {
                    const emojis = getStickerEmojis();
                    ctx.font = '80px Arial';
                    ctx.fillStyle = state.color;
                    ctx.fillText(emojis[0], tempCanvas.width * 0.15, tempCanvas.height * 0.3);
                    ctx.fillStyle = getComplementaryColor(state.color);
                    ctx.fillText(emojis[1], tempCanvas.width * 0.85, tempCanvas.height * 0.7);
                }
                
                if (withEffects && state.qrUrl) {
                    ctx.fillStyle = 'white';
                    ctx.fillRect(tempCanvas.width - 140, tempCanvas.height - 140, 120, 120);
                    ctx.fillStyle = 'black';
                    ctx.fillRect(tempCanvas.width - 135, tempCanvas.height - 135, 110, 110);
                    ctx.fillStyle = 'white';
                    ctx.font = 'bold 16px Arial';
                    ctx.textAlign = 'center';
                    ctx.fillText('QR', tempCanvas.width - 80, tempCanvas.height - 70);
                }
                
                ctx.fillStyle = 'rgba(255, 255, 255, 0.3)';
                ctx.font = 'bold 24px Orbitron';
                ctx.textAlign = 'left';
                ctx.fillText('–°–æ–∑–¥–∞–Ω–æ –≤ NUAR Studio', 50, tempCanvas.height - 30);
                
                const timestamp = new Date().toISOString().slice(0, 19).replace(/:/g, '-');
                const filename = `nuar-${withEffects ? 'full' : 'simple'}-${timestamp}.png`;
                
                const link = document.createElement('a');
                link.download = filename;
                link.href = tempCanvas.toDataURL('image/png');
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                
                showNotification(`–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–∫–∞—á–∞–Ω–æ! (${withEffects ? '—Å —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏' : '–±–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è'})`, 'success');
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:', error);
                showNotification('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è', 'error');
            }
        }

        async function createRealAnimatedGif() {
            showNotification('–ù–∞—á–∏–Ω–∞–µ–º —Å–æ–∑–¥–∞–Ω–∏–µ GIF...', 'info');
            elements.progressContainer.style.display = 'flex';
            elements.progressFill.style.width = '0%';
            
            try {
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
                if (typeof GIF === 'undefined') {
                    showNotification('–ó–∞–≥—Ä—É–∂–∞–µ–º GIF –±–∏–±–ª–∏–æ—Ç–µ–∫—É...', 'info');
                    await new Promise((resolve, reject) => {
                        const script = document.createElement('script');
                        script.src = 'https://cdn.jsdelivr.net/npm/gif.js@0.2.0/dist/gif.min.js';
                        script.onload = resolve;
                        script.onerror = reject;
                        document.head.appendChild(script);
                    });
                }
                
                const gif = new GIF({
                    workers: 2,
                    quality: 10,
                    width: 800,
                    height: 300,
                    workerScript: 'https://cdn.jsdelivr.net/npm/gif.js@0.2.0/dist/gif.worker.js'
                });
                
                const frames = 12; // –ú–µ–Ω—å—à–µ –∫–∞–¥—Ä–æ–≤ –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏
                const delay = 100;
                
                for (let i = 0; i < frames; i++) {
                    const progress = Math.round((i / frames) * 100);
                    elements.progressFill.style.width = `${progress}%`;
                    elements.progressText.textContent = `–°–æ–∑–¥–∞–µ–º GIF... ${progress}%`;
                    
                    const canvas = document.createElement('canvas');
                    canvas.width = 800;
                    canvas.height = 300;
                    const ctx = canvas.getContext('2d');
                    
                    if (!ctx) continue;
                    
                    // –§–æ–Ω
                    ctx.fillStyle = state.backgroundColor;
                    ctx.fillRect(0, 0, canvas.width, canvas.height);
                    
                    // –í—Ä–µ–º—è –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏
                    const time = i * 0.3;
                    
                    // –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ–Ω
                    if (state.bgAnimation !== 'none') {
                        switch(state.bgAnimation) {
                            case 'grid':
                                drawGrid(ctx, canvas.width, canvas.height, time);
                                break;
                            case 'particles':
                                // –ü—Ä–æ—Å—Ç—ã–µ —á–∞—Å—Ç–∏—Ü—ã –¥–ª—è GIF
                                for (let j = 0; j < 20; j++) {
                                    const x = (canvas.width * j/20 + time * 30) % canvas.width;
                                    const y = canvas.height * 0.5 + Math.sin(time * 1.5 + j) * 30;
                                    const size = 2 + Math.sin(time + j) * 1;
                                    
                                    ctx.fillStyle = state.color;
                                    ctx.globalAlpha = 0.3 + Math.sin(time + j) * 0.2;
                                    ctx.beginPath();
                                    ctx.arc(x, y, size, 0, Math.PI * 2);
                                    ctx.fill();
                                }
                                ctx.globalAlpha = 1;
                                break;
                            case 'waves':
                                ctx.strokeStyle = state.color;
                                ctx.lineWidth = 2;
                                ctx.globalAlpha = 0.3;
                                ctx.beginPath();
                                for (let x = 0; x < canvas.width; x++) {
                                    const y = canvas.height * 0.5 + Math.sin(x * 0.02 + time * 2) * 30;
                                    if (x === 0) ctx.moveTo(x, y);
                                    else ctx.lineTo(x, y);
                                }
                                ctx.stroke();
                                ctx.globalAlpha = 1;
                                break;
                        }
                    }
                    
                    // –¢–µ–∫—Å—Ç —Å –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Å–≤–µ—á–µ–Ω–∏–µ–º
                    let glowSize = state.glowStrength;
                    if (state.glowType === 'pulse') {
                        const pulse = 0.7 + 0.3 * Math.sin(time * 2);
                        glowSize = state.glowStrength * pulse;
                    }
                    
                    ctx.font = 'bold 60px Orbitron';
                    ctx.textAlign = 'center';
                    ctx.textBaseline = 'middle';
                    ctx.fillStyle = state.color;
                    ctx.shadowColor = state.color;
                    ctx.shadowBlur = glowSize;
                    
                    // –≠—Ñ—Ñ–µ–∫—Ç—ã
                    if (state.glowType === 'neon-rainbow') {
                        const hue = (i * 30) % 360;
                        ctx.fillStyle = `hsl(${hue}, 100%, 50%)`;
                        ctx.shadowColor = `hsl(${hue}, 100%, 50%)`;
                    }
                    
                    if (state.glowType === 'glitch') {
                        const offsetX = (i % 3 === 0) ? 2 : 0;
                        const offsetY = (i % 4 === 0) ? -1 : 0;
                        ctx.save();
                        ctx.translate(offsetX, offsetY);
                    }
                    
                    ctx.fillText(state.mainText, canvas.width / 2, canvas.height / 2 - 25);
                    ctx.shadowBlur = 0;
                    
                    if (state.glowType === 'glitch') {
                        ctx.restore();
                    }
                    
                    if (state.showSubText && state.subText) {
                        ctx.font = 'bold 30px Orbitron';
                        ctx.fillStyle = state.color;
                        if (state.glowType === 'neon-rainbow') {
                            const hue = ((i * 30) + 180) % 360;
                            ctx.fillStyle = `hsl(${hue}, 100%, 50%)`;
                        }
                        ctx.fillText(state.subText, canvas.width / 2, canvas.height / 2 + 40);
                    }
                    
                    // –°—Ç–∏–∫–µ—Ä—ã
                    if (state.stickerType !== 'none') {
                        const emojis = getStickerEmojis();
                        ctx.font = '60px Arial';
                        ctx.fillStyle = state.color;
                        
                        const sticker1X = canvas.width * 0.15 + Math.sin(time) * 3;
                        const sticker1Y = canvas.height * 0.3 + Math.cos(time) * 3;
                        ctx.fillText(emojis[0], sticker1X, sticker1Y);
                        
                        ctx.fillStyle = getComplementaryColor(state.color);
                        const sticker2X = canvas.width * 0.85 + Math.cos(time * 1.5) * 3;
                        const sticker2Y = canvas.height * 0.7 + Math.sin(time * 1.5) * 3;
                        ctx.fillText(emojis[1], sticker2X, sticker2Y);
                    }
                    
                    ctx.fillStyle = 'rgba(255, 255, 255, 0.3)';
                    ctx.font = 'bold 16px Orbitron';
                    ctx.textAlign = 'left';
                    ctx.fillText('NUAR Studio', 20, canvas.height - 20);
                    
                    gif.addFrame(ctx, {delay: delay});
                    
                    // –î–∞–µ–º –±—Ä–∞—É–∑–µ—Ä—É –æ—Ç–¥–æ—Ö–Ω—É—Ç—å
                    await new Promise(resolve => setTimeout(resolve, 50));
                }
                
                gif.on('finished', function(blob) {
                    const url = URL.createObjectURL(blob);
                    const link = document.createElement('a');
                    const timestamp = new Date().toISOString().slice(0,19).replace(/:/g, '-');
                    link.download = `nuar-animation-${timestamp}.gif`;
                    link.href = url;
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);
                    URL.revokeObjectURL(url);
                    
                    elements.progressFill.style.width = '100%';
                    elements.progressText.textContent = 'GIF —Å–æ–∑–¥–∞–Ω!';
                    
                    setTimeout(() => {
                        elements.progressContainer.style.display = 'none';
                        showNotification('–ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π GIF —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω –∏ —Å–∫–∞—á–∞–Ω!', 'success');
                    }, 1000);
                });
                
                gif.on('abort', function() {
                    elements.progressContainer.style.display = 'none';
                    showNotification('–°–æ–∑–¥–∞–Ω–∏–µ GIF –æ—Ç–º–µ–Ω–µ–Ω–æ', 'error');
                });
                
                gif.on('progress', function(p) {
                    if (!elements.progressFill.style.width.includes('100')) {
                        const progress = Math.round(p * 100);
                        elements.progressFill.style.width = `${progress}%`;
                        elements.progressText.textContent = `–°–æ–∑–¥–∞–µ–º GIF... ${progress}%`;
                    }
                });
                
                gif.render();
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ GIF:', error);
                elements.progressContainer.style.display = 'none';
                showNotification('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å GIF. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞.', 'error');
            }
        }

        function getComplementaryColor(hex) {
            const colorMap = {
                '#00f3ff': '#ff00ff', '#ff00ff': '#00ff9d',
                '#00ff9d': '#ff5500', '#ff5500': '#9d00ff',
                '#9d00ff': '#00f3ff', '#ff009d': '#00ffea',
                '#00ffea': '#ff009d', '#ffcc00': '#33ccff',
                '#33ccff': '#ffcc00', '#00ff7f': '#ff3366',
                '#ff3366': '#00ff7f', '#cc33ff': '#33ffcc',
                '#33ffcc': '#cc33ff'
            };
            return colorMap[hex] || '#ffffff';
        }

        function updateFileSize() {
            if (!elements.fileSize) return;
            elements.fileSize.textContent = `~${150 + (state.bgAnimation !== 'none' ? 100 : 0)} KB`;
        }

        function showNotification(message, type = 'info') {
            const oldNotifications = document.querySelectorAll('.nuar-notification');
            oldNotifications.forEach(n => {
                n.style.animation = 'slideOutRight 0.3s ease-in forwards';
                setTimeout(() => n.remove(), 300);
            });
            
            const notification = document.createElement('div');
            notification.className = 'nuar-notification';
            
            const colors = {
                success: 'linear-gradient(135deg, #00ff9d, #00b36b)',
                error: 'linear-gradient(135deg, #ff3366, #cc0066)',
                info: 'linear-gradient(135deg, #00f3ff, #0099cc)',
                warning: 'linear-gradient(135deg, #ffcc00, #ff9900)'
            };
            
            notification.style.background = colors[type] || colors.info;
            
            const icons = {
                success: 'fa-check-circle', error: 'fa-exclamation-circle',
                info: 'fa-info-circle', warning: 'fa-exclamation-triangle'
            };
            
            notification.innerHTML = `<i class="fas ${icons[type] || 'fa-info-circle'}"></i><span>${message}</span>`;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOutRight 0.3s ease-in forwards';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        function startAnimation() {
            if (!state.animationId) {
                state.animationId = requestAnimationFrame(animate);
            }
        }

        function animate(currentTime) {
            if (!state.lastRenderTime) state.lastRenderTime = currentTime;
            
            if (state.bgAnimation !== 'none' && elements.canvas) {
                drawBackground();
            }
            
            state.lastRenderTime = currentTime;
            state.animationId = requestAnimationFrame(animate);
        }

        function randomDesign() {
            const colors = ['#00f3ff', '#ff00ff', '#00ff9d', '#ff5500', '#9d00ff', '#00ffea', '#ffcc00', '#ff3366'];
            const bgColors = ['#0a0a14', '#000000', '#111827', '#1a1a2e', '#16213e', '#0f3460'];
            const templates = ['gamer', 'music', 'creative', 'tech', 'podcast', 'education'];
            const glowTypes = ['simple', 'double', 'pulse', 'neon-rainbow', 'glitch'];
            const bgAnimations = ['none', 'grid', 'particles', 'waves', 'circuits', 'scan', 'hexagon', 'binary'];
            
            const mainTexts = [
                'CYBERSTREAMER LIVE',
                'NEON NIGHTS',
                'DIGITAL DREAMS',
                'SYNTHWAVE RADIO',
                'GAME ZONE',
                'TECH TALK'
            ];
            
            const subTexts = [
                '–ü—Ä—è–º–æ–π —ç—Ñ–∏—Ä 24/7',
                '–ò–≥—Ä–∞—é –≤ –ª—É—á—à–∏–µ –∏–≥—Ä—ã',
                '–°–æ–∑–¥–∞—é —Ü–∏—Ñ—Ä–æ–≤–æ–µ –∏—Å–∫—É—Å—Å—Ç–≤–æ',
                '–û–±—Å—É–∂–¥–∞—é —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏',
                '–£—á—É –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é',
                '–ú—É–∑—ã–∫–∞ –¥–ª—è –¥—É—à–∏'
            ];
            
            state.color = colors[Math.floor(Math.random() * colors.length)];
            state.backgroundColor = bgColors[Math.floor(Math.random() * bgColors.length)];
            state.glowType = glowTypes[Math.floor(Math.random() * glowTypes.length)];
            state.glowStrength = 15 + Math.floor(Math.random() * 35);
            state.mainText = mainTexts[Math.floor(Math.random() * mainTexts.length)];
            state.subText = subTexts[Math.floor(Math.random() * subTexts.length)];
            state.template = templates[Math.floor(Math.random() * templates.length)];
            state.bgAnimation = bgAnimations[Math.floor(Math.random() * bgAnimations.length)];
            state.stickerType = Math.random() > 0.3 ? ['gaming', 'music', 'tech', 'cyber'][Math.floor(Math.random() * 4)] : 'none';
            state.showSubText = Math.random() > 0.2;
            
            updateUIFromState();
            drawBackground();
            updatePreview();
            
            showNotification('–°–ª—É—á–∞–π–Ω—ã–π –¥–∏–∑–∞–π–Ω —Å–æ–∑–¥–∞–Ω!', 'success');
        }

        function resetDesign() {
            state.mainText = 'CYBERSTREAMER LIVE';
            state.subText: '–ò–≥—Ä–∞–µ—Ç –≤ Cyberpunk 2077';
            state.color = '#00f3ff';
            state.backgroundColor = '#1a1a2e';
            state.glowType = 'pulse';
            state.glowStrength = 25;
            state.bgAnimation = 'grid';
            state.stickerType = 'gaming';
            state.qrUrl = '';
            state.template = 'gamer';
            state.showSubText = true;
            
            updateUIFromState();
            drawBackground();
            updatePreview();
            
            showNotification('–î–∏–∑–∞–π–Ω —Å–±—Ä–æ—à–µ–Ω –¥–æ –Ω–∞—á–∞–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫', 'info');
        }

        function exportSettings() {
            const settings = {
                mainText: state.mainText,
                subText: state.subText,
                color: state.color,
                backgroundColor: state.backgroundColor,
                glowType: state.glowType,
                glowStrength: state.glowStrength,
                bgAnimation: state.bgAnimation,
                stickerType: state.stickerType,
                qrUrl: state.qrUrl,
                template: state.template,
                showSubText: state.showSubText,
                exportDate: new Date().toISOString()
            };
            
            const dataStr = JSON.stringify(settings, null, 2);
            const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
            
            const link = document.createElement('a');
            link.setAttribute('href', dataUri);
            link.setAttribute('download', `nuar-settings-${Date.now()}.json`);
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            showNotification('–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ JSON —Ñ–∞–π–ª', 'success');
        }

        function copyCss() {
            const css = `/* CSS –¥–ª—è —à–∞–ø–∫–∏ –æ—Ç NUAR Studio */
.header-container {
    position: relative;
    width: 100%;
    height: 500px;
    background: ${state.backgroundColor};
    overflow: hidden;
    font-family: 'Orbitron', sans-serif;
}

.header-text {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
    z-index: 2;
}

.main-text {
    font-size: 5rem;
    font-weight: bold;
    color: ${state.color};
    text-shadow: 0 0 ${state.glowStrength}px ${state.color}, 0 0 ${state.glowStrength * 1.5}px ${state.color};
    margin-bottom: 1rem;
    ${state.glowType === 'pulse' ? 'animation: pulseGlow 2s infinite ease-in-out;' : ''}
    ${state.glowType === 'neon-rainbow' ? 'animation: neonRainbow 3s infinite linear;' : ''}
    ${state.glowType === 'glitch' ? 'animation: glitchEffect 0.8s infinite;' : ''}
}

.sub-text {
    font-size: 2rem;
    color: ${state.color};
    opacity: 0.9;
    text-shadow: 0 0 ${state.glowStrength * 0.7}px ${state.color};
}`;

            navigator.clipboard.writeText(css).then(() => {
                showNotification('CSS –∫–æ–¥ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!', 'success');
            }).catch(() => {
                const textArea = document.createElement('textarea');
                textArea.value = css;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                showNotification('CSS –∫–æ–¥ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!', 'success');
            });
        }

        function shareDesign() {
            const designData = {
                title: `–ú–æ–π –¥–∏–∑–∞–π–Ω: ${state.mainText}`,
                text: `–°–æ–∑–¥–∞–ª(–∞) –∫—Ä—É—Ç—É—é —à–∞–ø–∫—É –≤ NUAR Studio! –ü–æ—Å–º–æ—Ç—Ä–∏: "${state.mainText}"`,
                url: window.location.href
            };

            if (navigator.share && navigator.canShare(designData)) {
                navigator.share(designData)
                    .then(() => showNotification('–°–ø–∞—Å–∏–±–æ –∑–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏—é!', 'success'))
                    .catch(() => copyDesignLink());
            } else {
                copyDesignLink();
            }
        }

        function copyDesignLink() {
            const designConfig = {
                mainText: state.mainText,
                subText: state.subText,
                color: state.color,
                backgroundColor: state.backgroundColor,
                glowType: state.glowType,
                glowStrength: state.glowStrength,
                template: state.template
            };
            
            const encoded = btoa(JSON.stringify(designConfig));
            const link = `${window.location.origin}${window.location.pathname}?design=${encoded}`;
            
            navigator.clipboard.writeText(link).then(() => {
                showNotification('–°—Å—ã–ª–∫–∞ –Ω–∞ –¥–∏–∑–∞–π–Ω —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ –≤ –±—É—Ñ–µ—Ä!', 'success');
            });
        }

        window.addEventListener('load', init);
    </script>
</body>
</html>
